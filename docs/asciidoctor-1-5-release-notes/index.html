<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Asciidoctor 1.5 Release Notes | Asciidoctor</title><link rel="stylesheet" href="/stylesheets/styles.css"><script src="/javascripts/vendor/custom.modernizr.js"></script><link rel="author" href="/humans.txt"></head><body class="antialiased"><nav class="top-bar"><ul class="title-area"><li class="name"><h1><a href="/">Asciidoctor</a></h1></li><li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li></ul><section class="top-bar-section"><ul class="right"><li class="g-plusone-slot"><div class="g-plusone" data-annotation="none"></div></li><li class="divider"></li><li><a href="/">About</a></li><li class="divider"></li><li><a href="/news/">News</a></li><li class="divider"></li><li><a href="http://github.com/asciidoctor">Code</a></li><li class="divider"></li><li><a href="http://discuss.asciidoctor.org">Discuss</a></li><li class="divider"></li><li><a href="/docs/">Docs</a></li><li class="divider"></li><li class="has-form"><a class="button" href="/docs/asciidoc-writers-guide/">Get Writing!</a></li></ul></section></nav><div class="container"><header><div class="row"><div class="large-12 columns"><h1>Asciidoctor 1.5 Release Notes</h1></div></div></header><div class="row"><div class="large-8 columns"><div class="row"><div class="large-12 columns"><div class="sect1">
<h2 id="integrations"><a class="anchor" href="#integrations"></a>Integrations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="latexmath-and-asciimath-492"><a class="anchor" href="#latexmath-and-asciimath-492"></a>LaTeXMath and AsciiMath (#492)</h3>

</div>
<div class="sect2">
<h3 id="plantuml-120"><a class="anchor" href="#plantuml-120"></a>Plantuml (#120)</h3>
<div class="paragraph">
<p>plantuml is an open source tool for drawing UML diagrams. Add support for this in the style of an AsciiDoc filter.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Alice -&gt; Bob: Authentication Request
Bob --&gt; Alice: Authentication Response</pre>
</div>
</div>
<div class="paragraph">
<p>Since asciiart is a prominent feature in the AsciiDoc community, we may want to support a generic style name that delegates to the registered implementation. For instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Alice -&gt; Bob: Authentication Request
Bob --&gt; Alice: Authentication Response</pre>
</div>
</div>
<div class="paragraph">
<p>As standards emerge around the syntax for these types of diagrams, any number of implementations may be able to satisfy that block. But this way, the documents would not have to be modified when changing implementation. This is similar to how the source highlighting works.</p>
</div>
<div class="paragraph">
<p>@mojavelinux Hello Dan,
Perhaps you will be interested by this info.</p>
</div>
<div class="paragraph">
<p>I love plantuml ( BTW, take care to typo error "planetuml" ), and I found long time ago an AsciiDoc filter for this tool.</p>
</div>
<div class="paragraph">
<p>Even if author seems not to be active, I&#8217;ve applied few patches, and make it operational with AsciiDoc, and of course AsciiDoc-Bootstrap backend.</p>
</div>
<div class="paragraph">
<p>Here is a concrete example of an UML class diagram of what we can do with it.</p>
</div>
<div class="paragraph">
<p>UML source is at my github account : <a href="https://github.com/llaville/php-compat-info/blob/master/docs/UML.txt">https://github.com/llaville/php-compat-info/blob/master/docs/UML.txt</a></p>
</div>
<div class="paragraph">
<p>Enjoy
Laurent</p>
</div>
<div class="paragraph">
<p>This issue is resolved by the introduction of Asciidoctor Diagram.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/asciidoctor/asciidoctor-diagram">https://github.com/asciidoctor/asciidoctor-diagram</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="converters"><a class="anchor" href="#converters"></a>Converters</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="docbook-5-is-now-the-default-docbook-converter-554"><a class="anchor" href="#docbook-5-is-now-the-default-docbook-converter-554"></a>DocBook 5 is now the default DocBook converter (#554)</h3>
<div class="paragraph">
<p>Asciidoctor took a step forward by making DocBook 5 the default DocBook output.
DocBook 5 has been a stable since 2008.
[Learn more].</p>
</div>
</div>
<div class="sect2">
<h3 id="html-5-converter-supports-xhtml-494"><a class="anchor" href="#html-5-converter-supports-xhtml-494"></a>HTML 5 converter supports XHTML (#494)</h3>
<div class="paragraph">
<p>This issue has lots of content, go to it</p>
</div>
</div>
<div class="sect2">
<h3 id="changes-external-cdns-to-https-if-possible-970"><a class="anchor" href="#changes-external-cdns-to-https-if-possible-970"></a>Changes external CDNs to HTTPS if possible. #970</h3>
<div class="paragraph">
<p>Resolved by #993.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styles"><a class="anchor" href="#styles"></a>Styles</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="honor-background-colors-in-highlight-js-and-pygments-themes-813"><a class="anchor" href="#honor-background-colors-in-highlight-js-and-pygments-themes-813"></a>Honor background colors in highlight.js and pygments themes #813</h3>
<div class="paragraph">
<p>Honor the background colors from highlight.js and pygments themes in syntax highlighted listings.</p>
</div>
</div>
<div class="sect2">
<h3 id="enable-copycss-attribute-to-copy-any-stylesheet-not-just-asciidoctor-css-300"><a class="anchor" href="#enable-copycss-attribute-to-copy-any-stylesheet-not-just-asciidoctor-css-300"></a>Enable copycss attribute to copy any stylesheet, not just asciidoctor.css #300</h3>
<div class="paragraph">
<p>I think that we are overloading the purpose of stylesdir and stylesheet when looking for a stylesheet to copy. I think that stylesdir and stylesheet should only be used for creating the link to the stylesheet in the HTML.</p>
</div>
<div class="paragraph">
<p>For example, if Asciidoctor is invoked with the following attributes:</p>
</div>
<div class="paragraph">
<p>-a stylesheet=colony.css -a stylesdir=./styles
then the HTML link should be:</p>
</div>
<div class="paragraph">
<p>&lt;link rel="stylesheet" href="./styles/colony.css"&gt;
The target location to copy the stylesheet is "styles/colony.css" in the output directory (i.e., outdir).</p>
</div>
<div class="paragraph">
<p>The question remains, where is the location of the stylesheet to copy? Here&#8217;s the proposed implementation.</p>
</div>
<div class="paragraph">
<p>If copycss is blank (as it is by default), then the stylesheet attribute is resolved as a file relative to the base directory (in the future we could look in other built-in locations as well). If the stylesheet is somewhere else on the filesystem, then that location must be supplied to copycss.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="paragraph">
<p>-a copycss=/etc/asciidoctor-themes/colony.css -a stylesheet=colony.css -a stylesdir=./styles</p>
</div>
<div class="paragraph">
<p>resolves #300 copy custom stylesheet if linkcss is set</p>
</div>
</div>
<div class="sect2">
<h3 id="vertical-headers-in-table-should-render-as-th-element-in-html-backend-738"><a class="anchor" href="#vertical-headers-in-table-should-render-as-th-element-in-html-backend-738"></a>Vertical headers in table should render as th element in HTML backend #738</h3>
<div class="paragraph">
<p>DavidGamba	resolves #738 vertical table headers use th element instead of header class</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update Asciidoc compatibility file</p>
</li>
<li>
<p>Update stylesheet</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="add-missing-border-styles-in-default-stylesheet-569"><a class="anchor" href="#add-missing-border-styles-in-default-stylesheet-569"></a>Add missing border styles in default stylesheet #569</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="do-not-include-tagged-lines-nested-in-selected-tagged-region-1027"><a class="anchor" href="#do-not-include-tagged-lines-nested-in-selected-tagged-region-1027"></a>Do not include tagged lines nested in selected tagged region #1027</h3>
<div class="paragraph">
<p>Do not include lines that contain the tag directive when selecting lines in a tagged region. By ignoring these lines, it&#8217;s possible to have fine-grained tagged regions inside larger tagged regions.</p>
</div>
<div class="paragraph">
<p>For example, if our include file has the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay nowrap"><code class="asciidoc language-asciidoc">tag::snippets[]
tag::snippet-a[]
snippet a
end::snippet-a[]

tag::snippet-b[]
snippet b
end::snippet-b[]
end::snippets[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>And we include this file using the following include directive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay nowrap"><code class="asciidoc language-asciidoc"></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following lines should be selected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay nowrap"><code class="asciidoc language-asciidoc">snippet a

snippet b</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that none of the lines with the tag directives are selected.</p>
</div>
</div>
<div class="sect2">
<h3 id="specify-leveloffset-on-the-include-macro-530"><a class="anchor" href="#specify-leveloffset-on-the-include-macro-530"></a>Specify leveloffset on the include macro (#530)</h3>
<div class="paragraph">
<p>This issue has lots of content, go to it</p>
</div>
<div class="paragraph">
<p>resolves #530 support leveloffset on include directive and relative values</p>
</div>
</div>
<div class="sect2">
<h3 id="incremental-substitutions-control-522"><a class="anchor" href="#incremental-substitutions-control-522"></a>Incremental substitutions control (#522)</h3>
<div class="paragraph">
<p>It&#8217;s possible to override all the substitutions on a block using the subs attribute. However, doing so requires that that you specify all the substitution you want performed. It would be nice if it were possible to add or remove a substitution from the default list using a shorthand notation.</p>
</div>
<div class="paragraph">
<p>+attributes - append the attributes substitution to the default list
-attributes - remove the attributes substitution from the default list</p>
</div>
<div class="paragraph">
<p>For example, here&#8217;s an example of how you would add the attributes substitution on a block under this proposal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay nowrap"><code class="xml language-xml"><version>{version}</version></code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, here&#8217;s how you would remove the callouts substitution:</p>
</div>
<div class="listingblock">
<div class="title">An illegal XML tag</div>
<div class="content">
<pre class="CodeRay nowrap"><code class="xml language-xml"><1>foo</1></code></pre>
</div>
</div>
<div class="paragraph">
<p>This feature should be available where ever the subs attribute is used.</p>
</div>
<div class="paragraph">
<p>Please note that this change is merely a convenience. It is possible to override the substitutions today. You&#8217;re just required to specify all the substitutions you want.</p>
</div>
<div class="paragraph">
<p>I&#8217;d like to propose that if the + comes before the name of the sub, then it&#8217;s added to the beginning of the existing list and if the + comes after the name, it&#8217;s added to the end of the list. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay nowrap"><code class="xml language-xml">The effective subs are: attributes, specialcharacters, quotes</code></pre>
</div>
</div>
<div class="paragraph">
<p>An incremental subs list may contain any explicit substitutions. It&#8217;s not clear what the user intends if that is the case.</p>
</div>
<div class="paragraph">
<p>resolves #522 allow substitutions to be incrementally added &amp; removed</p>
</div>
</div>
<div class="sect2">
<h3 id="allow-specialchars-as-a-shorthand-for-specialcharacters-subs-value-579"><a class="anchor" href="#allow-specialchars-as-a-shorthand-for-specialcharacters-subs-value-579"></a>Allow specialchars as a shorthand for specialcharacters subs value #579</h3>
<div class="paragraph">
<p>resolves #579 specialchars subs alias, shorthand subs</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
This feature may already be fully documented - double check it
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="add-document-attribute-to-control-depth-of-of-section-numbering"><a class="anchor" href="#add-document-attribute-to-control-depth-of-of-section-numbering"></a>Add document attribute to control depth of of section numbering</h3>
<div class="paragraph">
<p>Add a document attribute that can be used to control the depth of section numbering.</p>
</div>
<div class="paragraph">
<p>Currently, the logic is hardcoded as to 3 levels:</p>
</div>
<div class="paragraph">
<p>@numbered = numbered &amp;&amp; @level &gt; 0 &amp;&amp; @level &lt; 4
This should merely be the default if otherwise unspecified.</p>
</div>
<div class="paragraph">
<p>I propose the attribute name sectnumlevels to be consistent with toclevels to control toc depth.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>resolves #549 added sectnumlevels to control depth of section numbering</p>
</div>
</div>
<div class="sect2">
<h3 id="add-attribute-to-drop-uri-scheme-in-automatic-link-label-800"><a class="anchor" href="#add-attribute-to-drop-uri-scheme-in-automatic-link-label-800"></a>Add attribute to drop URI scheme in automatic link label #800</h3>

</div>
<div class="sect2">
<h3 id="swap-the-function-of-the-backtick-and-plus-characters-718"><a class="anchor" href="#swap-the-function-of-the-backtick-and-plus-characters-718"></a>Swap the function of the backtick and plus characters #718</h3>

</div>
<div class="sect2">
<h3 id="allow-xref-to-be-specified-using-reftext-e-g-section-title-589"><a class="anchor" href="#allow-xref-to-be-specified-using-reftext-e-g-section-title-589"></a>Allow xref to be specified using reftext (e.g., section title) #589</h3>

</div>
<div class="sect2">
<h3 id="nofooter-attribute-826"><a class="anchor" href="#nofooter-attribute-826"></a>nofooter attribute #826</h3>
<div class="paragraph">
<p>done</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ast"><a class="anchor" href="#ast"></a>AST</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="add-enumerable-or-similar-methods-to-abstractblock-862"><a class="anchor" href="#add-enumerable-or-similar-methods-to-abstractblock-862"></a>Add Enumerable (or similar) methods to AbstractBlock #862</h3>
<div class="paragraph">
<p>(AST)</p>
</div>
</div>
<div class="sect2">
<h3 id="make-asciidoctor-compatible-with-opal-679"><a class="anchor" href="#make-asciidoctor-compatible-with-opal-679"></a>Make Asciidoctor compatible with Opal #679</h3>

</div>
<div class="sect2">
<h3 id="windows-jruby-include-specifying-full-path-with-drive-letter-or-unc"><a class="anchor" href="#windows-jruby-include-specifying-full-path-with-drive-letter-or-unc"></a>Windows/JRuby: include, specifying full path with drive letter or UNC</h3>
<div class="paragraph">
<p>resolves #806 recognized Windows UNC path as absolute and preserve it
I was not thinking of the Windows UNC paths when I developed the path resolution logic in Asciidoctor. Turns out, the change I needed to make was quite small. I was assuming all Windows paths would begin with a drive letter. I now see that a double slash is a legal start path for a network resource.</p>
</div>
<div class="paragraph">
<p>The shortcoming is not with Ruby, but with the path logic that I had in Asciidoctor. Ruby is as good at handling paths cross platform as Java. It takes a similar approach of internally converting backslashes to forward slashes, which also makes Java interop very good.</p>
</div>
<div class="paragraph">
<p>The reason there is special logic for path handling in Asciidoctor is because of the rigid security requirements GitHub (and other users) have for Asciidoctor. We must chop up every path and be absolutely, positively sure that we are not allowing access to ancestor directories that fall outside of the jail when the jail is used. Given we are enforcing this constraint, we also try to calculate the path in the most intelligent way. What Ruby lacks in this case is a proper standard library to resolve paths in a jail / chroot situation.</p>
</div>
<div class="paragraph">
<p>You should find that the fix I implemented allows the path resolution to behave as expected on Windows. If you encounter other problematic situations, don&#8217;t hesitate to report them.</p>
</div>
</div>
<div class="sect2">
<h3 id="bom-in-file-confuses-parser"><a class="anchor" href="#bom-in-file-confuses-parser"></a>BOM in file confuses parser</h3>
<div class="paragraph">
<p>resolves #824 handle BOM when normalizing source â€¦
* Ruby &gt;= 1.9 - use BOM to set encoding, then encode to UTF-8
* Ruby 1.8 - drop the UTF-8 BOM, ignore all others</p>
</div>
</div>
</div>
</div></div></div></div><div class="large-4 columns"><ul class="button-group radius" style="margin-top: 1.2em; margin-bottom: -0.625em"><li><a class="small secondary button" href="https://github.com/asciidoctor/asciidoctor.org/edit/master/docs/asciidoctor-1-5-release-notes.adoc">Edit</a></li><li><a class="small secondary button" href="https://github.com/asciidoctor/asciidoctor.org/raw/master/docs/asciidoctor-1-5-release-notes.adoc">Raw</a></li><li><a class="small secondary button" href="https://github.com/asciidoctor/asciidoctor.org/commits/master/docs/asciidoctor-1-5-release-notes.adoc">History</a></li><li><i class="icon-github icon-2x"></i></li></ul><h4>Asciidoctor Project</h4><p>The Asciidoctor project, including this website, is an effort to bring a comprehensive and accessible documentation toolchain, centered around the AsciiDoc syntax, to the Ruby and JVM ecosystems.<br><br>In addition to an AsciiDoc processor and a collection of stylesheets, the project provides plugins for Maven, Gradle and Guard and packages for operating systems such as Fedora. It also pushes AsciiDoc to evolve by introducing new ideas and innovation and helps promote AsciiDoc through education and advocacy.</p><p><i class="icon-download"></i> Download: <a class="rubygem" href="http://badge.fury.io/rb/asciidoctor"><img src="https://badge.fury.io/rb/asciidoctor.png" alt="Gem version" style="margin-top: -2px"></a><br><i class="icon-github"></i> Development: <a href="http://github.com/asciidoctor">GitHub</a><br><i class="icon-group"></i> Discussions: <a href="http://discuss.asciidoctor.org">Nabble</a><br><i class="icon-comments"></i> Chat (IRC): <a href="irc://irc.freenode.org/#asciidoctor">#asciidoctor on FreeNode</a><br><i class="icon-twitter"></i> Twitter: <a class="twitter" href="http://twitter.com/#!/asciidoctor">@asciidoctor</a><br><i class="icon-google-plus-sign"></i> Google+: <a href="https://plus.google.com/116431294697916948181" rel="publisher">Asciidoctor</a></p><h4>Contribute to asciidoctor.org</h4><p>This website is open source! The source is hosted under the Asciidoctor organization on GitHub.</p><p>If you want to help by improving upon it, <a href="http://github.com/asciidoctor/asciidoctor.org">fork the project</a>, revise the content, then send a pull request. When the pull request is merged, the site will be updated automatically.</p></div></div></div><footer><div class="row full-width"><div class="large-6 columns"><p>&copy; Asciidoctor Project 2014.<br><span style="white-space: nowrap;">Composed in AsciiDoc. Styled by Foundation. Baked with Awestruct.</span><br>Content licensed under the CC BY 3.0 License.</p></div><div class="large-6 columns"></div></div></footer><script>document.write('<script src=' + ('__proto__' in {} ? '/javascripts/vendor/zepto' : '/javascripts/vendor/jquery') + '.js><\/script>')</script><script src="/javascripts/foundation/foundation.js"></script><script src="/javascripts/foundation/foundation.topbar.js"></script><script>$(document).foundation();</script><script>(function() { var p1 = document.createElement('script'); p1.async = true; p1.src = 'https://apis.google.com/js/plusone.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(p1, s);})();</script><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount','UA-38215684-1']);
_gaq.push(['_trackPageview']);
(function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body></html>