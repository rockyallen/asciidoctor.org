<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/stylesheets/styles.css"><script src="/javascripts/vendor/custom.modernizr.js"></script><title>Asciidoctor | An open source implementation of AsciiDoc in Ruby</title><link href="/feed.atom" rel="alternate" title="AsciiDoctor.org News Feed" type="application/atom+xml"><link rel="author" href="/humans.txt"></head><body class="antialiased"><nav class="top-bar"><ul class="title-area"><li class="name"><h1><a href="/">Asciidoctor</a></h1></li><li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li></ul><section class="top-bar-section"><ul class="right"><li class="g-plusone-slot"><div class="g-plusone" data-annotation="none"></div></li><li class="divider"></li><li><a href="/">About</a></li><li class="divider"></li><li><a href="/news/">News</a></li><li class="divider"></li><li><a href="http://gist.asciidoctor.org">Gist</a></li><li class="divider"></li><li><a href="https://github.com/asciidoctor">Code</a></li><li class="divider"></li><li><a href="http://discuss.asciidoctor.org">Discuss</a></li><li class="divider"></li><li><a href="/docs/">Docs</a></li><li class="divider"></li><li class="has-form"><a class="button" href="/docs/asciidoc-writers-guide/">Get Writing!</a></li></ul></section></nav><div class="container"><div class="row"><div class="large-12 columns"><div class="row"><div class="large-12 columns primary"><div id="content"><article class="post"><header class="entry-header"><h1 class="title"><a href="/news/2014/08/12/asciidoctor-1-5-0-released/">Asciidoctor 1.5.0 “Bleeding Heart” released!</a></h1><h4><em>by</em> <span class="author">Dan Allen</span> and <span class="author">Sarah White</span> - <time class="pubdate" datetime="2014-08-12T02:42:21-06:00">Tuesday, August 12, 2014</time></h4></header><div class="entry-content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The long-awaited release of Asciidoctor 1.5.0 “Bleeding Heart” has arrived at last!
This release includes a stockpile of 150 fixes, improvements and enhancements as well as several refinements to the AsciiDoc syntax.
We&#8217;re confident you&#8217;re going to <em>love writing</em> with Asciidoctor more than ever before.</p>
</div>
<div class="paragraph">
<p>Asciidoctor 1.5.0 is the sequel to 0.1.4.
We shifted the numbers to adopt a semantic versioning scheme and communicate that this release is well beyond stable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="migration-warning"><a class="anchor" href="#migration-warning"></a><span class="icon"><i class="fa fa-warning"></i></span> Please take note!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you upgrade to Asciidoctor 1.5.0, it&#8217;s important to know we&#8217;ve introduced some changes to the AsciiDoc syntax that aren&#8217;t backward compatible.
Don&#8217;t panic, though!
We also introduced a compatibility mode.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="http://asciidoctor.org/docs/migration/">migration guide</a> for information about the affected syntax and how to migrate (or prepare to migrate) your content.
By making these syntax changes, we&#8217;re working to make AsciiDoc more consistent and easier to learn.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="milestones-momentum"><a class="anchor" href="#milestones-momentum"></a>Milestones &amp; momentum</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We closed <a href="https://github.com/asciidoctor/asciidoctor/issues?q=milestone%3Av1.5.0">150 issues</a> during the Asciidoctor 1.5.0 development cycle.
At the time of the last release, we announced that Asciidoctor had reached 50,000 downloads from RubyGems.org.
This time around, we didn&#8217;t just double the download count, we <em>quadrupled</em> it!
Asciidoctor has now been downloaded more than 225,000 times at the time of this release!</p>
</div>
<div class="paragraph">
<p>It&#8217;s not the download count of which we&#8217;re most proud.
It&#8217;s the community of <a href="#acknowledgments">awesome people</a> <span class="icon"><i class="fa fa-users"></i></span>.
There are now over 50 contributors in the Asciidoctor ecosystem, and this release alone has received participation from nearly every person in this group!
If you haven&#8217;t had a chance to participate in Asciidoctor, there&#8217;s never been a better time to join in.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s a summary of the milestones we&#8217;ve crossed:</p>
</div>
<div class="ulist checklist green">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> 150 issues closed in 1.5.0</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 50 total contributors</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 225,000 total downloads</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 1,800 total commits</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 1,500 tests</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 1000 total issues (including pull requests)</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 800 issues closed in total (including pull requests)</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 400 mailing list topics</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> 2 years of development (initial commit Jun 1, 2012)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This wouldn&#8217;t be an Asciidoctor release announcement without discussing the speed of the processor.
The 1.5.0 release brings another <em>10% improvement</em> in speed over the previous version.
To give you a picture of how fast it is now, the Spring Framework Reference Guide, weighing in at 50,000+ lines, renders to HTML in <em>1.15 seconds</em> on an Asus ZenBook UX301LA using Ruby 2.1.</p>
</div>
<div class="paragraph">
<p>Asciidoctor is now in use by even more open source projects, including Groovy, Griffon, GroovyFX, Infinispan, Weld, Hibernate OGM, Spring Data and git-scm.com.
It&#8217;s also used to produce NFJS, the Magazine.
Best of all, <a href="https://github.com/graphitefriction">Sarah</a> has been hard at work filling in Asciidoctor&#8217;s own <a href="http://asciidoctor.org/docs/user-manual">user manual</a> and helping teams understand how to <a href="http://graphitefriction.com/decks" target="_blank">write better documentation</a>.</p>
</div>
<div class="paragraph">
<p>In case you didn&#8217;t notice, the Asciidoctor project is on <span class="icon red"><i class="fa fa-fire"></i></span>.
On that note, let&#8217;s get to what&#8217;s in this new release!</p>
</div>
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="release-highlights"><a class="anchor" href="#release-highlights"></a>Release highlights</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="spotlight-mathjax"><a class="anchor" href="#spotlight-mathjax"></a><span class="icon"><i class="fa fa-flask"></i></span> Get technical with MathJax</h3>
<div class="paragraph">
<p>If you need to get technical in your writing, Asciidoctor integrates with <a href="http://www.mathjax.org">MathJax</a> to allow you to write <a href="http://docs.mathjax.org/en/latest/tex.html">TeX / LaTeX</a> or <a href="http://docs.mathjax.org/en/latest/asciimath.html">AsciiMath</a> expressions directly in your document.</p>
</div>
<div class="stemblock">
<div class="title">A typeset LaTeX math equation</div>
<div class="content">
\[x = {-b \pm \sqrt{b^2-4ac} \over 2a}\]
</div>
</div>
<div class="paragraph">
<p>With a simple declaration of the <a href="http://asciidoctor.org/docs/user-manual/#stem"><code>stem</code></a> attribute, you can now write <a href="http://asciidoctor.org/docs/user-manual/#inline-stem-content">inline</a> and <a href="http://asciidoctor.org/docs/user-manual/#block-stem-content">block</a> formulas in plain text too!</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-diagrams"><a class="anchor" href="#spotlight-diagrams"></a><span class="icon"><i class="fa fa-sitemap"></i></span> Diagrams, diagrams, diagrams</h3>
<div class="paragraph">
<p>You can add even more visual elements to your document with diagrams conjured from plain text.
<a href="https://github.com/asciidoctor/asciidoctor-diagram">Asciidoctor Diagram</a> emerged from a request to port the PlantUML extension for AsciiDoc Python to Asciidoctor.
Pepijn Van Eeckhoudt (<a href="https://github.com/pepijnve">@pepijnve</a>) took the reins and created a comprehensive diagram extension that not only adds integration with PlantUML, but three additional diagramming tools, as well as a framework for adding more in the future.</p>
</div>
<div class="paragraph">
<p>Asciidoctor Diagram 1.5.0 now supports the following diagramming tools:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://plantuml.sourceforge.net">PlantUML</a></p>
</li>
<li>
<p><a href="http://www.graphviz.org">Graphviz</a></p>
</li>
<li>
<p><a href="http://ditaa.sourceforge.net">Ditaa</a></p>
</li>
<li>
<p><a href="https://github.com/christiangoltz/shaape">Shaape</a></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/asciidoctor-diagram-process.png" alt="Asciidoctor Diagram process diagram" width="650" height="319">
</div>
</div>
<div class="paragraph">
<p>See the <a href="http://asciidoctor.org/docs/asciidoctor-diagram">Asciidoctor Diagram guide</a> to learn how to create diagrams from ASCII art in your AsciiDoc documents.</p>
</div>
<div class="paragraph">
<p>Curious how to load extensions like Asciidoctor Diagram from the commandline interface?
Read on.</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-load-extensions"><a class="anchor" href="#spotlight-load-extensions"></a><span class="icon"><i class="fa fa-gears"></i></span> Load extensions from the CLI</h3>
<div class="paragraph">
<p>Asciidoctor introduced an extensions API in 0.1.4 that enables you to extend the AsciiDoc syntax and tap into the lifecycle of the processor.
However, it was only possible to load these extensions when invoking Asciidoctor via the API or by creating a custom launch script.</p>
</div>
<div class="paragraph">
<p>The <code>asciidoctor</code> command now supports the <code>-r</code> and <code>-I</code> flags (ported from the <code>ruby</code> command) to require additional paths or modify the load path, respectively.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of how to use the <code>-r</code> flag to enable the Asciidoctor Diagram extension:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor -r asciidoctor-diagram sample.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>-r</code> flag also accepts absolute or relative paths and can be used multiple times.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor -r ./my-extension-a.rb -r ./my-extension-b.rb sample.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>The scripts referenced by the <code>-r</code> flag are loaded in the order they are listed before any other processing occurs.</p>
</div>
<div class="paragraph">
<p>Now you get the full power of the <code>asciidoctor</code> command plus extensions!</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-docbook5"><a class="anchor" href="#spotlight-docbook5"></a><span class="icon"><i class="fa fa-book"></i></span> Embracing DocBook 5</h3>
<div class="paragraph">
<p>The <a href="http://www.docbook.org/specs/docbook-5.0-spec-cs-01.html">DocBook 5 specification</a> was finalized in 2008.
It&#8217;s time we embrace it.</p>
</div>
<div class="paragraph">
<p>DocBook 5 is now the default output when you use the <a href="http://asciidoctor.org/docs/user-manual/#docbook"><code>docbook</code> backend</a>.
If you still need to produce DocBook 4.5, use the <code>docbook45</code> backend.</p>
</div>
</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-code-i-span-making-xml-parsers-happy"><a class="anchor" href="#span-class-icon-i-class-fa-fa-code-i-span-making-xml-parsers-happy"></a><span class="icon"><i class="fa fa-code"></i></span> Making XML parsers happy</h3>
<div class="paragraph">
<p>HTML5 reintroduced flexible HTML syntax that&#8217;s only loosely based on SGML&#8230;&#8203;and most certainly <em>not</em> XML.
This decision makes HTML5 more approachable.
However, it makes XML parsers <span class="icon"><i class="fa fa-bomb"></i></span>.</p>
</div>
<div class="paragraph">
<p>To accommodate tools that use XML parsers to read the generated HTML, Asciidoctor can now output the XHTML variant of HTML5, known as <a href="http://www.w3.org/TR/html5/introduction.html#html-vs-xhtml">XHTML5</a>.</p>
</div>
<div class="paragraph">
<p>To output XHTML5 instead of HTML5, set the backend to <a href="http://asciidoctor.org/docs/user-manual/#xhtml"><code>xhtml</code></a> or, to be more explicit, <code>xhtml5</code>.
The “x” at the beginning of the name cleverly tells Asciidoctor to close short tags, assign values to boolean attributes and add the <code>xmlns</code> attribute to the root element.</p>
</div>
<div class="paragraph">
<p>Trust us, your XML parser will thank you.</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-pdf-epub3"><a class="anchor" href="#spotlight-pdf-epub3"></a><span class="icon"><i class="fa fa-file-pdf-o"></i></span> PDF and EPUB3</h3>
<div class="paragraph">
<p>Asciidoctor can now convert directly from AsciiDoc to PDF and EPUB3, using <a href="https://github.com/asciidoctor/asciidoctor-pdf">Asciidoctor PDF</a> and <a href="https://github.com/asciidoctor/asciidoctor-epub3">Asciidoctor EPUB3</a>, respectively.
These converters are hosted in their own repositories and are distributed as separate gems.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://github.com/asciidoctor/asciidoctor-epub3/raw/master/data/samples/images/screenshots/chapter-title.png" alt="EPUB3 generated by Asciidoctor EPUB3" width="650">
</div>
</div>
<div class="paragraph">
<p>The converters are currently alpha, but still very functional.</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-asciidoctorjs"><a class="anchor" href="#spotlight-asciidoctorjs"></a><span class="icon"><i class="fa fa-globe"></i></span> Asciidoctor.js is Asciidoctor</h3>
<div class="paragraph">
<p>Guillaume Grossetie (<a href="https://github.com/mogztter">@mogztter</a>) led the effort during the 1.5.0 development cycle to align the <a href="https://github.com/asciidoctor/asciidoctor.js">Asciidoctor.js</a> code base with Asciidoctor core.
After <em>a lot</em> of fiddling and Opal patches, Asciidoctor.js now builds directly against master and the Asciidoctor 1.5.0 release.
That means that for the first time, Asciidoctor.js <strong>is</strong> Asciidoctor.</p>
</div>
<div class="paragraph">
<p>Anthonny Quérouil (<a href="https://github.com/anthonny">@anthonny</a>) followed up by developing a Grunt build script to bundle Asciidoctor.js and publish it to <a href="https://www.npmjs.org/package/asciidoctor.js">npm</a> (the Node.js package manager) and <a href="http://bower.io/search/?q=asciidoctor">Bower</a> (the web package manager).</p>
</div>
<div class="paragraph">
<p>Guillaume is the creator of the <a href="https://chrome.google.com/webstore/detail/asciidoctorjs-live-previe/iaalpfgpbocpdfblpnhhgllgbdbchmia">AsciiDoc preview for Chrome</a> and Anthonny the creator of the <a href="https://atom.io/packages/asciidoc-preview">AsciiDoc preview for Atom</a>.
The AsciiDoc preview for Atom complements the <a href="https://github.com/asciidoctor/atom-language-asciidoc">AsciiDoc language definition</a> kicked off by Anton Moiseev (<a href="https://github.com/antonmoiseev">@antonmoiseev</a>).
Thomas Kern (<a href="https://github.com/nerk">@nerk</a>) was quick to follow up with an <a href="https://github.com/asciidoctor/brackets-asciidoc-preview">AsciiDoc plugin for Brackets</a> based on the aforementioned work.
We also invited the veteran project of Asciidoctor.js, <a href="http://gist.asciidoctor.org">DocGist</a>, into the Asciidoctor organization.
DocGist was created by Anders Nawroth (<a href="https://github.com/nawroth">@nawroth</a>).
Guillaume, Anthonny, Anders, Thomas, Anton and others have been collaborating on tooling based on Asciidoctor.js.
They&#8217;re helping Asciidoctor boldly go where no AsciiDoc implementation has gone before.</p>
</div>
<div class="paragraph">
<p>The alignment of Asciidoctor.js with Asciidoctor core was a major effort.
I want to sincerely thank Guillaume, Anthonny and the Opal team (Adam Beynon, meh and Elia Schito) for making this happen.</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-syntax"><a class="anchor" href="#spotlight-syntax"></a><span class="icon"><i class="fa fa-edit"></i></span> AsciiDoc syntax shuffle</h3>
<div class="paragraph">
<p>The single quote (<code>'</code>) and the backtick (<code>`</code>) are two markup characters in the AsciiDoc syntax that often give people trouble.
They like to get in each other&#8217;s way.
We decided to shuffle some of the AsciiDoc syntax to address this problem and, in general, make it more consistent and easy to learn.
Not only do these changes reduce slip ups by the parser, they also strengthen the meaning of the plus character and bring more alignment with Markdown by making the backtick the primary character for monospace formatting.</p>
</div>
<div class="sect3">
<h4 id="migrating-with-compat-mode"><a class="anchor" href="#migrating-with-compat-mode"></a>Migrating with compat-mode</h4>
<div class="paragraph">
<p>Before introducing what&#8217;s changed, we want to emphasize that you can forgo the italic, monospace and passthrough syntax changes by setting the <code>compat-mode</code> attribute, shown here defined in the document header:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">:compat-mode:</pre>
</div>
</div>
<div class="paragraph">
<p>or by using a two-line document title:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Document Title
==============</pre>
</div>
</div>
<div class="paragraph">
<p>Compat mode is used to enable legacy syntax when the new syntax deviates from it.
See the <a href="http://asciidoctor.org/docs/migration/">migration guide</a> for more information about migrating your AsciiDoc documents and the transitional syntax that&#8217;s available.</p>
</div>
</div>
<div class="sect3">
<h4 id="means-passthrough"><a class="anchor" href="#means-passthrough"></a>“+” means passthrough</h4>
<div class="paragraph">
<p>The <code>&#43;</code> character in the original AsciiDoc syntax is not used consistently.
Single plus (<code>&#43;</code>) and double plus (<code>&#43;&#43;</code>) are used to format text as monospace, whereas triple plus (<code>&#43;&#43;&#43;</code>) and quadruple plus (<code>&#43;&#43;&#43;&#43;</code>) are used to escape text from processing.</p>
</div>
<div class="paragraph">
<p>We made AsciiDoc more intuitive and easier to teach by always using <code>&#43;</code> as a <a href="http://asciidoctor.org/docs/user-manual/#passthru">passthrough formatting mark</a>.
Instead of using the single plus and double plus for monospaced formatting, we&#8217;ve made them constrained and unconstrained literals (i.e., “render it as it looks”), respectively.
For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">+_bar_+ becomes _bar_
foo++_bar_++ becomes foo_bar_</pre>
</div>
</div>
<div class="paragraph">
<p>We haven&#8217;t yet mentioned how to format text as monospace.
For that, we&#8217;ll put the backtick back into play.</p>
</div>
</div>
<div class="sect3">
<h4 id="markdown-style-monospace"><a class="anchor" href="#markdown-style-monospace"></a>Markdown-style monospace</h4>
<div class="paragraph">
<p>Authors who are familiar with Markdown are accustomed to using the backtick (<code>`</code>) to format text as monospace.
We&#8217;ve embraced this convention in Asciidoctor.</p>
</div>
<div class="paragraph">
<p>Using backtick characters around text now means the text should be formatted as monospace only.
The backtick characters <em>do not</em> add passthrough semantics, as they did before.
In most cases, the passthrough semantics aren&#8217;t necessary, so using the backticks for monospaced formatting is sufficient.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">`literal` becomes literal (in monospace)
`{backend}` becomes html5 (in monospace)
a``||``b becomes a||b (where || is monospace)</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to prevent substitutions in the monospaced text, just remember, “plus for passthrough”:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">`+{backend}+` becomes {backend} (in monospace)</pre>
</div>
</div>
<div class="paragraph">
<p>By not mixing monospace formatting with passthrough (literal) semantics, we are deviating slightly from the behavior of backticks in Markdown.
However, that&#8217;s because AsciiDoc has additional features, such as attribute references, that we want to be able to leverage when formatting text as monospace.</p>
</div>
<div class="paragraph">
<p>There will be a period of time during which you&#8217;ll have to process your document with both Asciidoctor 0.1.4 and 1.5.0 (mostly while we wait on GitHub to upgrade).
We&#8217;ve added special logic in the processor to handle a hybrid syntax to use in the interim.
Please refer to the <a href="http://asciidoctor.org/docs/migration/">migration guide</a> for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="smarter-smart-quotes"><a class="anchor" href="#smarter-smart-quotes"></a>Smarter “smart” quotes</h4>
<div class="paragraph">
<p>Legacy AsciiDoc also uses the backtick character for making curved quotes.
Because the syntax was so similar to that of monospaced literal text, it often matched in unexpected ways.
We&#8217;ve made the smart quotes syntax&#8230;&#8203;<em>smarter</em>.</p>
</div>
<div class="paragraph">
<p>In Asciidoctor 1.5.0, the backtick acts as a modifier on a quote to indicate it should be curved.
You now place the backtick inside the quote character, adjacent to the quoted phrase, to make it “smart”.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Dig through a copy of '`The Times`' and you're bound to see a lot of "`smart`" quotes.</pre>
</div>
</div>
<div class="paragraph">
<p>This change brings the backtick closer in proximity to the quote and thus makes parsing more deterministic.
See the user manual for <a href="http://asciidoctor.org/docs/user-manual/#curved">more curved quote and apostrophe examples</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="quote-means-quote"><a class="anchor" href="#quote-means-quote"></a>Quote means quote</h4>
<div class="paragraph">
<p>Single quotes around a phrase are now left alone unless you&#8217;re running Asciidoctor in compat mode.</p>
</div>
<div class="paragraph">
<p>AsciiDoc traditionally supported single quotes as an alternate syntax for marking a phrase as italic.
However, single quotes around a phrase already have a very well-defined meaning in Western languages.
Making them something they aren&#8217;t just isn&#8217;t a good idea.
We never recommended them for this purpose anyway.
Furthermore, they conflict with the new curved quote syntax, so they had to go.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="http://asciidoctor.org/docs/migration/">migration guide</a> to help ensure a smooth transition to the new syntax.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-leveloffset"><a class="anchor" href="#spotlight-leveloffset"></a><span class="icon"><i class="fa fa-indent"></i></span> Level your offsets</h3>
<div class="paragraph">
<p>The <code>leveloffset</code> attribute is used to shift the level of sections when combining documents.
It works great for a single include level, but as Groovy developers <a href="https://github.com/melix">Cédric</a> and <a href="https://github.com/glaforge">Guillaume</a> discovered, it quickly breaks down when you get into multiple levels of nesting.</p>
</div>
<div class="paragraph">
<p>The problem is that the level offset value is assumed to be absolute.
Asciidoctor now supports <em>relative</em> level offset values using a leading + or - operator.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">:leveloffset: +1
include::chapter-01.adoc[]
:leveloffset: -1</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can specify the <code>leveloffset</code> attribute directly on the include directive so you don&#8217;t have to worry about restoring the old value.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">include::chapter-01.adoc[leveloffset=+1]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-tag-directives"><a class="anchor" href="#spotlight-tag-directives"></a><span class="icon"><i class="fa fa-filter"></i></span> Filtered tag directives</h3>
<div class="paragraph">
<p>The Groovy developers use the include and tag directives a lot.
They discovered that tag directives within a broader tagged range get carried over into the document.
Asciidoctor now drops these lines so you can <a href="http://asciidoctor.org/docs/user-manual/#selecting-parts-of-a-document-to-include">nest fine-grained ranges within broader ranges</a>.</p>
</div>
<div class="paragraph">
<p>The tag directives are also searched using a more strict match to avoid false matches.</p>
</div>
</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-refresh-i-span-substitution-modifiers"><a class="anchor" href="#span-class-icon-i-class-fa-fa-refresh-i-span-substitution-modifiers"></a><span class="icon"><i class="fa fa-refresh"></i></span> Substitution modifiers</h3>
<div class="paragraph">
<p>When you needed to customize the substitutions on a block, you used to have to list out all the substitutions you wanted to enable.
It&#8217;s now possible to add or remove substitutions to the default substitution set <a href="http://asciidoctor.org/docs/user-manual/#applying-substitutions">using the <code>+</code> and <code>-</code> modifiers</a> (e.g., <code>[subs=+quotes]</code>).
That should save a lot of unnecessary typing!</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-secure-assets"><a class="anchor" href="#spotlight-secure-assets"></a><span class="icon"><i class="fa fa-lock"></i></span> Secure assets</h3>
<div class="paragraph">
<p>Serving assets over SSL is a best practice to avoid man-in-the-middle attacks and preying eyes in general.</p>
</div>
<div class="paragraph">
<p>All remote assets referenced out of the box in Asciidoctor, such as Font Awesome, are now served over SSL from https://cdnjs.cloudflare.com and https://fonts.googleapis.com.</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-hide-uri-scheme"><a class="anchor" href="#spotlight-hide-uri-scheme"></a><span class="icon"><i class="fa fa-eye-slash"></i></span> Hide the URI scheme</h3>
<div class="paragraph">
<p>Asciidoctor auto-detects and auto-links URLs.
Writers often don&#8217;t take advantage of this feature because the link shows the URI scheme prefix (e.g., http://).
So, they end up long-handing it for the sole purpose of hiding the prefix.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">http://asciidoctor.org[asciidoctor.org]</pre>
</div>
</div>
<div class="paragraph">
<p>Now, Asciidoctor can produce the exact same result if you set the <code>hide-uri-scheme</code> attribute on the document.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">:hide-uri-scheme:

http://asciidoctor.org</pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Rendered URL when hide-url-scheme is set</div>
<div class="content">
<div class="paragraph">
<p><a href="http://asciidoctor.org" class="bare">asciidoctor.org</a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-xrefs"><a class="anchor" href="#spotlight-xrefs"></a><span class="icon"><i class="fa fa-compass"></i></span> Human-friendly cross references</h3>
<div class="paragraph">
<p>If you&#8217;re linking to an anchor point somewhere else in your document, you can refer to it by title instead of by ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Refer to &lt;&lt;Section A&gt;&gt;.

== Section A</pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll likely want to switch to using IDs as the document matures, but this should certainly help with flow in early drafts!</p>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-print-styles"><a class="anchor" href="#spotlight-print-styles"></a><span class="icon"><i class="fa fa-print"></i></span> Print your docs</h3>
<div class="paragraph">
<p>Leif Gruenwoldt (<a href="https://github.com/leif81">@leif81</a>) pointed out that the print styles were too aggressive, causing the printed document to lose its integrity.
We worked together to tweak the stylesheet until the output looked nearly as good as the PDF generated by the DocBook toolchain.
The styles even separate chapters into different pages when using the <code>book</code> doctype.
In addition to these styles, we also added the missing table border styles for all the grid and frame permutations on both web and print.</p>
</div>
<div class="paragraph">
<p>Who needs DocBook when you&#8217;ve got HTML5 and CSS3?</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="/images/screenshot-print-preview.png" alt="Print preview of HTML generated by Asciidoctor" width="650">
</div>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-fonts"><a class="anchor" href="#spotlight-fonts"></a><span class="icon"><i class="fa fa-font"></i></span> Open Source fonts</h3>
<div class="paragraph">
<p>The culture of Asciidoctor is deeply rooted in Open Source, so we want to be Open Source all the way down.</p>
</div>
<div class="paragraph">
<p>In the past, the default stylesheet relied on Microsoft Core Fonts (Arial and Georgia) installed on the user&#8217;s system.
We&#8217;ve replaced these proprietary fonts with Open Source fonts, which we load from Google Fonts.</p>
</div>
<div class="paragraph">
<p>Here are the fonts we&#8217;ve selected:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Noto Serif</strong> - prose and block titles</p>
</li>
<li>
<p><strong>Open Sans Light</strong> - section headings</p>
</li>
<li>
<p><strong>Droid Sans Mono</strong> - monospaced text and preformatted blocks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We particularly like <a href="https://www.google.com/fonts/specimen/Noto+Serif">Noto Serif</a> because it&#8217;s an extremely readable font <em>and</em> it supports all the world&#8217;s languages.</p>
</div>
<div class="paragraph">
<p>We made additional refinements to the default stylesheet that give it a professional, modern appearance.
Here&#8217;s a preview of the new default theme:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/screenshot-default-theme.png" alt="Screenshot of default Asciidoctor theme" width="650">
</div>
</div>
</div>
<div class="sect2">
<h3 id="spotlight-font-awesome"><a class="anchor" href="#spotlight-font-awesome"></a><span class="icon"><i class="fa fa-flag"></i></span> Font Awesome 4.1</h3>
<div class="paragraph">
<p>Speaking of fonts, Asciidoctor integrates with Font Awesome 4.1, thanks to the work done by Guillaume Grossetie (<a href="https://github.com/mogztter">@mogztter</a>)!
You now have <strong>over 400 icons</strong> available to accessorize your document!</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Many icons were renamed in Font Awesome 4.
If you have existing documents that use the icon macro, you may want to add the <a href="https://github.com/asciidoctor/asciidoctor/blob/master/compat/font-awesome-3-compat.css">Font Awesome 3 compatibility CSS</a> that Guillaume created to ease the transition.
</td>
</tr>
</table>
</div>
<div class="paragraph lead">
<p>“Everything is AWESOME!!!”</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="acknowledgments"><a class="anchor" href="#acknowledgments"></a>Acknowledgments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The best part of Asciidoctor is, and will always be, its thriving community.
We&#8217;d like to thank the following people for participating in this release.</p>
</div>
<div class="ulist square compact">
<ul class="square">
<li>
<p>Guillaume Grossetie (<a href="https://github.com/mogztter">@mogztter</a>)</p>
</li>
<li>
<p>Ken Dreyer (<a href="https://github.com/ktdreyer">@ktdreyer</a>)</p>
</li>
<li>
<p><a href="https://github.com/megathaum">@megathaum</a></p>
</li>
<li>
<p>James FitzGibbon (<a href="https://github.com/jf647">@jf647</a>)</p>
</li>
<li>
<p>Jean-Louis Jouannic (<a href="https://github.com/jljouannic">@jljouannic</a>)</p>
</li>
<li>
<p>Leif Gruenwoldt (<a href="https://github.com/leif81">@leif81</a>)</p>
</li>
<li>
<p>Roman Priesol (<a href="https://github.com/randybb">@randybb</a>)</p>
</li>
<li>
<p>Aslak Knutsen (<a href="https://github.com/aslakknutsen">@aslakknutsen</a>)</p>
</li>
<li>
<p>Charles Moulliard (<a href="https://github.com/cmoulliard">@cmoulliard</a>)</p>
</li>
<li>
<p>Pepijn Van Eeckhoudt (<a href="https://github.com/">@pepijnve</a>)</p>
</li>
<li>
<p>Ken Finnigan (<a href="https://github.com/kenfinnigan">@kenfinnigan</a>)</p>
</li>
<li>
<p><a href="https://github.com/neher">@neher</a></p>
</li>
<li>
<p>David Gamba (<a href="https://github.com/davidgamba">@davidgamba</a>)</p>
</li>
<li>
<p>Jason Porter (<a href="https://github.com/lightguard">@lightguard</a>)</p>
</li>
<li>
<p>Matt Stine (<a href="https://github.com/mstine">@mstine</a>)</p>
</li>
<li>
<p>Brian Carlson (<a href="https://github.com/bk2204">@bk2204</a>)</p>
</li>
<li>
<p>John Ericksen (<a href="https://github.com/johncarl81">@johncarl81</a>)</p>
</li>
<li>
<p>Guillaume Laforge (<a href="https://github.com/glaforge">@glaforge</a>)</p>
</li>
<li>
<p>Adam Beynon (<a href="https://github.com/adambeynon">@adambeynon</a>)</p>
</li>
<li>
<p>Romain Manni-Bucau (<a href="https://github.com/rmannibucau">@rmannibucau</a>)</p>
</li>
<li>
<p>Sarah White (<a href="https://github.com/graphitefriction">@graphitefriction</a>)</p>
</li>
<li>
<p>David Gamba (<a href="https://github.com/davidgamba">@davidgamba</a>)</p>
</li>
<li>
<p>Cédric Champeau (<a href="https://github.com/melix">@melix</a>)</p>
</li>
<li>
<p>James Carlson (<a href="https://github.com/jxxcarlson">@jxxcarlson</a>)</p>
</li>
<li>
<p>meh. (<a href="https://github.com/meh">@meh</a>)</p>
</li>
<li>
<p>Laurent Laville (<a href="https://github.com/llaville">@llaville</a>)</p>
</li>
<li>
<p>Enrique Ruiz (<a href="https://github.com/eruiz">@eruiz</a>)</p>
</li>
<li>
<p>Alejandro Revilla (<a href="https://github.com/ar">@ar</a>)</p>
</li>
<li>
<p>Matthew Casperson (<a href="https://github.com/mcasperson">@mcasperson</a>)</p>
</li>
<li>
<p>Rob Winch (<a href="https://github.com/rwinch">@rwinch</a>)</p>
</li>
<li>
<p>Anthonny Quérouil (<a href="https://github.com/anthonny">@anthonny</a>)</p>
</li>
<li>
<p>Peter Neubauer (<a href="https://github.com/peterneubauer">@petermeubauer</a>)</p>
</li>
<li>
<p>Andres Almiray (<a href="https://github.com/aalmiray">@aalmiray</a>)</p>
</li>
<li>
<p><a href="https://github.com/cristoper">@cristoper</a></p>
</li>
<li>
<p>Vadim (<a href="https://github.com/vad1mo">@vad1mo</a>)</p>
</li>
<li>
<p>Phil Webb (<a href="https://github.com/philwebb">@philwebb</a>)</p>
</li>
<li>
<p>Jean-Michel Bruel (<a href="https://github.com/jmbruel">@jmbruel</a>)</p>
</li>
<li>
<p>Julien Viet (<a href="https://github.com/vietj">@vietj</a>)</p>
</li>
<li>
<p>Anders Nawroth (<a href="https://github.com/nawroth">@nawroth</a>)</p>
</li>
<li>
<p>Romain Deltour (<a href="https://github.com/rdeltour">@rdeltour</a>)</p>
</li>
<li>
<p>Felipe Contreras (<a href="https://github.com/felipec">@felipec</a>)</p>
</li>
<li>
<p>Yuxuan &#8216;fishy&#8217; Wang (<a href="https://github.com/fishy">@fishy</a>)</p>
</li>
<li>
<p>Alex Soto (<a href="https://github.com/lordofthejars">@lordofthejars</a>)</p>
</li>
<li>
<p>Dave Baldwin (<a href="https://github.com/davebaldwin">@davebaldwin</a>)</p>
</li>
<li>
<p>Heiko W. Rupp (<a href="https://github.com/pilhuhn">@pilhuhn</a>)</p>
</li>
<li>
<p>Baptiste Mathus (<a href="https://github.com/batmat">@batmat</a>)</p>
</li>
<li>
<p>Michael Hunger (<a href="https://github.com/jexp">@jexp</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We&#8217;d like to give special shout outs to the following people:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to <strong>Guillaume Grossetie</strong>, <strong>Ken Dreyer</strong>, <strong>Leif Gruenwoldt</strong>, <strong>@megathaum</strong>, <strong>Ken Finnigan</strong>, <strong>Brian Carlson</strong>, <strong>Aslak Knutsen</strong>, <strong>David Gamba</strong>, <strong>Wim Champagne</strong>, <strong>Charles Moulliard</strong>, <strong>Jean-Louis Jouannic</strong>, <strong>Roman Priesol</strong> and <strong>James FitzGibbon</strong> for making their first source contributions to Asciidoctor core.</p>
</li>
<li>
<p>to <strong>Guillaume Grossetie</strong> for spearheading the effort to align Asciidoctor core and Asciidoctor.js.</p>
</li>
<li>
<p>to <strong>Anthonny Quérouil</strong> for setting up a Grunt build for Asciidoctor.js and getting it published to npm and Bower.</p>
</li>
<li>
<p>to members of the Opal team (<strong>Adam Beynon</strong>, <strong>meh</strong> and <strong>Elia Schito</strong>) for helping us achieve compatibility with Opal and making necessary upstream changes.</p>
</li>
<li>
<p>to <strong>Ken Dreyer</strong> for overhauling the RPM package for Fedora and upgrading the Asciidoctor test suite to Minitest 5.</p>
</li>
<li>
<p>to <strong>Peter Neubauer</strong> for making the very first <a href="https://twitter.com/mojavelinux/status/486037855051862019">Asciidoctor t-shirt</a>, which I wore for the release!</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I (Dan) would also like to thank <strong>Sarah White</strong> for her monstrous effort providing input into the software design, editing the user manual, updating the website, testing (read as: breaking) and establishing a documentation workflow for the project.
Asciidoctor would not be what it is today without her dedication.</p>
</div>
<div class="paragraph">
<p>Additional thanks to everyone who is using the project, advocating for better documentation and those who have participated in the growing ecosystem of sub-projects.
The mission of Asciidoctor is to help you write, publish and communicate your content successfully, and enjoy doing it!
With your feedback and participation, we can achieve that goal together!
We encourage you to ask questions and discuss any aspects of the project on the mailing list, Twitter or IRC.</p>
</div>
<div class="paragraph">
<p>If you discover errors or omissions in the source code, documentation, or website content, please don&#8217;t hesitate to submit an issue or open a pull request with a fix.
We&#8217;re always eager to learn about your experiences and how we can help improve them.
Together, we&#8217;re making documentation fun, easy, and rewarding!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-s-next"><a class="anchor" href="#what-s-next"></a>What&#8217;s next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release is just the beginning of the release train.
Look for releases of AsciidoctorJ, Asciidoctor.js, the build plugins (Gradle and Maven), the Linux packages and more!</p>
</div>
<div class="paragraph">
<p>The next release of Asciidoctor will be the 1.5.1 point release.
From now on, we plan to iterate much faster and only do announcements for major and minor versions.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/asciidoctor/asciidoctor/blob/master/CHANGELOG.adoc">CHANGELOG</a> for a complete list of changes.</p>
</div>
</div>
</div></div><footer class="entry-footer"><div class="tags"><i class="label fa fa-tags"></i><a href="/news/tag/release/">release</a>, <a href="/news/tag/core/">core</a></div></footer><hr></article><article class="post"><header class="entry-header"><h1 class="title"><a href="/news/2014/02/18/plain-text-diagrams-in-asciidoctor/">Plain-text diagrams take shape in Asciidoctor!</a></h1><h4><em>by</em> <span class="author">Pepijn Van Eeckhoudt</span> - <time class="pubdate" datetime="2014-02-18T16:41:04-07:00">Tuesday, February 18, 2014</time></h4></header><div class="entry-content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You write in plain text.
You code in plain text.
How about creating diagrams in plain text too?
Now you can using <a href="https://github.com/asciidoctor/asciidoctor-diagram">Asciidoctor Diagram</a>!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://asciidoctor.org">Asciidoctor</a> is a fantastic tool to use when writing technical documentation.
It allows you to spend more time focusing on your content rather than struggling with WYSIWYG tools.</p>
</div>
<div class="paragraph">
<p>One task that still pulls your focus away, and is more difficult than it should be, is integrating technical diagrams into your documents.
It involves launching a UML or diagramming tool, pushing pixels around the screen to draw the diagrams, exporting the result to a web-friendly image format and linking to them from your source document.
The many benefits that AsciiDoc provides in terms of visual consistency, ease of collaboration, etc. are not available when you are working with diagrams.</p>
</div>
<div class="paragraph">
<p>All that changes today with the announcement of the Asciidoctor Diagram extension.
<a href="https://github.com/asciidoctor/asciidoctor-diagram">Asciidoctor Diagram</a> integrates existing plain text syntax diagramming tools into the Asciidoctor processing.
That means you can embed the source code for your diagrams <em>directly</em> into your documents!</p>
</div>
<div class="paragraph">
<p>The first version of Asciidoctor Diagram supports the following diagram languages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://ditaa.sourceforge.net">ditaa</a></p>
</li>
<li>
<p><a href="http://www.graphviz.org/content/dot-language">Graphviz dot</a></p>
</li>
<li>
<p><a href="http://www.plantuml.com">PlantUML</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These “lightweight diagram languages” are to graphical diagrams what AsciiDoc is to HTML.
Another way of saying it:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/language-analogy-diagram.png" alt="language analogy diagram">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="your-first-plain-text-diagram"><a class="anchor" href="#your-first-plain-text-diagram"></a>Your first plain-text diagram</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The simplest way to add diagrams to your documents is by using diagram blocks.
Just add a listing block to your file using the appropriate syntax name (<code>ditaa</code>, <code>graphviz</code> or <code>plantuml</code>) as the block name (aka style).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[ditaa]
----
                   +-------------+
                   | Asciidoctor |-------+
                   |  Diagram    |       |
                   +-------------+       | PNG out
                       ^                 |
                       | ditaa in        |
                       |                 v
 +--------+   +--------+----+    /----------------\
 |        | --+ Asciidoctor +--&gt; |                |
 |  Text  |   +-------------+    |Beautiful output|
 |Document|   |   !magic!   |    |                |
 |     {d}|   |             |    |                |
 +---+----+   +-------------+    \----------------/
     :                                   ^
     |          Lots of work             |
     +-----------------------------------+
----</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the Asciidoctor Diagram extension processes this type of block, it will read the body of the block, pass it to the ditaa library, write the resulting image to disk and generate an image block.
Here&#8217;s how it appears in the rendered document:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/sample-ditaa-diagram.png" alt="sample ditaa diagram">
</div>
</div>
<div class="paragraph">
<p><strong>Magic!</strong></p>
</div>
<div class="paragraph">
<p>Generating one of these images is fairly quick, but if you start adding lots of diagrams to your document the processing time can start adding up.
Asciidoctor Diagram optimizes the processing by keeping track of diagram metadata in *.cache files and will only regenerate the images if the diagram source code was modified.
This keeps incremental rendering of documents a speedy process.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="controlling-the-output"><a class="anchor" href="#controlling-the-output"></a>Controlling the output</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default Asciidoctor Diagram creates PNG images and calculates an output file name automatically based on the diagram source code.
This behavior can be overridden using the <code>target</code> and <code>format</code> attributes.
You can specify these attributes as the first and second positional attributes or as explicitly named attributes.
An SVG file with a specific name a Graphviz diagram can be generated as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[graphviz, dot-example, svg]
----
digraph g {
    a -&gt; b
    b -&gt; c
    c -&gt; d
    d -&gt; a
}
----</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the magic happens, you&#8217;ll see:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/sample-graphviz-diagram.png" alt="sample graphviz diagram">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Asciidoctor Diagram bundles both the ditaa and PlantUML libraries and will use them to generate diagrams.
In order to generate diagrams using Graphviz, you must install it separately (meaning the <code>dot</code> command must be available on your PATH).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Asciidoctor Diagram turns the diagram blocks into image blocks and applies any additional attributes.
This means you can use the normal Asciidoctor facilities to control the positioning of the generated image.
Block titles and IDs can also be assigned in the same way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>[[main-classes]]
.The PlantUML block extension class
[plantuml, sample-plantuml-diagram, alt="Class diagram", width=135, height=118]
----
class BlockProcessor
class PlantUmlBlock
BlockProcessor &lt;|-- PlantUmlBlock
----</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s what gets rendered:</p>
</div>
<div id="main-classes" class="imageblock">
<div class="content">
<img src="/images/sample-plantuml-diagram.png" alt="Class diagram" width="135" height="118">
</div>
<div class="title">The PlantUML block extension class</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="including-external-diagrams"><a class="anchor" href="#including-external-diagrams"></a>Including external diagrams</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It might not always be desirable to embed the source code for diagrams in your document.
External diagrams can also be processed using the block macro syntax.
This is very similar to how you typically include images in your documents.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>plantuml::classes.txt[format=svg, alt="Class diagram", width=300, height=200]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-the-extension"><a class="anchor" href="#enabling-the-extension"></a>Enabling the extension</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Asciidoctor 0.1.4 does not yet allow extensions to be enabled via the command line.
That is a feature coming in Asciidoctor 1.5.0.
Until then, the easiest way to enable the extensions is to use a short wrapper script.
The following script, <code>asciidoctor-diagram</code>, loads and registers the Asciidoctor Diagram extension, then invokes Asciidoctor in the same way as the <code>asciidoctor</code> command.</p>
</div>
<div class="listingblock">
<div class="title"><code>asciidoctor-diagram</code> launch script</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="doctype">#!/usr/bin/env ruby</span>

require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor/cli/options</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor/cli/invoker</span><span class="delimiter">'</span></span>

require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor-diagram</span><span class="delimiter">'</span></span> <i class="conum" data-value="2"></i><b>(2)</b>

invoker = <span class="constant">Asciidoctor</span>::<span class="constant">Cli</span>::<span class="constant">Invoker</span>.new <span class="predefined-constant">ARGV</span> <i class="conum" data-value="3"></i><b>(3)</b>
invoker.invoke!
exit invoker.code</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Loads Asciidoctor</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Loads and registers the Asciidoctor Diagram extensions</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Invoke the Asciidoctor CLI</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Put the <code>asciidoctor-diagram</code> script on your PATH, make it executable and use it in place of the <code>asciidoctor</code> command.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor-diagram my-doc-with-cool-diagrams.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>After running the <code>asciidoctor-diagram</code> script on your document, go check out the cool diagrams it made for you!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="go-play"><a class="anchor" href="#go-play"></a>Go play!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now it&#8217;s time to go play with Asciidoctor Diagram.
Explore what you can do with it and how it can be improved.
To help you get started, check out <a href="https://github.com/asciidoctor/asciidoctor-diagram/blob/master/examples/features.adoc">these examples</a> in the Asciidoctor Diagram repository.
We look forward to hearing from you on the Asciidoctor <a href="http://discuss.asciidoctor.org">discussion list</a> or the Asciidoctor Diagram <a href="https://github.com/asciidoctor/asciidoctor-diagram/issues">issue tracker</a>.</p>
</div>
<div class="paragraph">
<p>Together, we can make diagrams and documentation come to life out of plain ol' text!</p>
</div>
</div>
</div></div><footer class="entry-footer"><div class="tags"><i class="label fa fa-tags"></i><a href="/news/tag/extension/">extension</a>, <a href="/news/tag/announcement/">announcement</a></div></footer><hr></article><article class="post"><header class="entry-header"><h1 class="title"><a href="/news/2014/02/04/github-asciidoctor-0.1.4-upgrade-5-things-to-know/">5 things to know about the GitHub Asciidoctor upgrade</a></h1><h4><em>by</em> <span class="author">Dan Allen</span> - <time class="pubdate" datetime="2014-02-04T02:21:00-07:00">Tuesday, February 4, 2014</time></h4></header><div class="entry-content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>After <a href="https://github.com/github/markup/pull/201">much anticipation</a>, GitHub <span class="icon"><i class="fa fa-github"></i></span> recently upgraded <a href="http://asciidoctor.org">Asciidoctor</a> to the 0.1.4 release, thanks to <a href="https://github.com/bkeepers">@bkeepers</a>!</p>
</div>
<div class="paragraph">
<p>Even bigger news than the upgrade, <strong>syntax highlighting is enabled in source listings!</strong>
If you need to see it to believe it, I present you proof.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/syntax-highlight-sample-github.png" alt="syntax highlight sample github">
</div>
<div class="title">Figure 1. Syntax highlighting in an AsciiDoc source block on GitHub</div>
</div>
<div class="paragraph">
<p>Since much has changed in Asciidoctor since version 0.1.0&#8212;&#8203;the previous version deployed&#8212;&#8203;we&#8217;ll look at 5 things to know about this upgrade to make the most of AsciiDoc rendering on GitHub.</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#1-source-code-syntax-highlighting">1. Source code syntax highlighting</a></li>
<li><a href="#2-document-title-and-footnotes">2. Document title and footnotes</a></li>
<li><a href="#3-swap-an-include-for-a-link">3. Swap an include for a link</a></li>
<li><a href="#4-compliant-asciidoc-topped-with-syntactic-sugar">4. Compliant AsciiDoc topped with syntactic sugar</a>
<ul class="sectlevel2">
<li><a href="#improved-compliance">Improved compliance</a></li>
<li><a href="#sugar-on-top">Sugar on top</a></li>
</ul>
</li>
<li><a href="#5-table-of-contents">5. Table of contents</a></li>
<li><a href="#long-live-asciidoc-on-github">Long live AsciiDoc on GitHub!</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="1-source-code-syntax-highlighting"><a class="anchor" href="#1-source-code-syntax-highlighting"></a>1. Source code syntax highlighting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First and foremost, syntax highlighting of source code is finally enabled!
The splashes of color in the source listings are added by the <a href="http://pygments.org">Pygments</a> syntax highlighter.</p>
</div>
<div class="paragraph">
<p>You don&#8217;t have to do anything special to start using this feature.
Just add a source block to your AsciiDoc file using:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>the listing block syntax</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">[source,ruby]
----
puts ['AsciiDoc', 'GitHub', 'AsciiDoc on GitHub'].map {|item|
  "I use #{item}!"
} * "\n"
----</pre>
</div>
</div>
</li>
<li>
<p>the open block syntax</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">[source,ruby]
--
puts ['AsciiDoc', 'GitHub', 'AsciiDoc on GitHub'].map {|item|
  "I use #{item}!"
} * "\n"
--</pre>
</div>
</div>
</li>
<li>
<p>or the fenced code block syntax (ala GitHub-flavored Markdown)</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">```ruby
puts ['AsciiDoc', 'GitHub', 'AsciiDoc on GitHub'].map {|item|
  "I use #{item}!"
} * "\n"
```</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Here&#8217;s how it looks when rendered:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">puts [<span class="string"><span class="delimiter">'</span><span class="content">AsciiDoc</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">GitHub</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">AsciiDoc on GitHub</span><span class="delimiter">'</span></span>].map {|item|
  <span class="string"><span class="delimiter">&quot;</span><span class="content">I use </span><span class="inline"><span class="inline-delimiter">#{</span>item<span class="inline-delimiter">}</span></span><span class="content">!</span><span class="delimiter">&quot;</span></span>
} * <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can find the list of languages Pygments recognizes on the <a href="http://pygments.org/docs/lexers/#lexers-for-agile-languages">lexers page</a> in the Pygments documentation.</p>
</div>
<div class="quoteblock">
<blockquote>
WHOA!!!!! OMG!!! WOOOOOOOOOOOO AAAAAAAAAAAAA WOW OOOOOO YAAAAAAAAAAA!!!! <strong>DOUBLE RAINBOW!!!</strong>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="2-document-title-and-footnotes"><a class="anchor" href="#2-document-title-and-footnotes"></a>2. Document title and footnotes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You&#8217;ll be glad to know that GitHub now shows the document title (level 0 section title) as a &lt;h1&gt; heading, if your AsciiDoc file has one.
Previously, the document title was ignored, requiring you to use a workaround if you wanted your rendered document to start with a heading (as most people do).</p>
</div>
<div class="paragraph">
<p>What&#8217;s more, GitHub now renders footnotes where you might expect to find them, at the bottom of the document<span class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</span>.
Unfortunately, the link from the reference to the footnote does not work because the HTML sanitizer wipes out the id attributes on elements (which serve as the anchors).
But hey, at least you know to look for the footnote.
We&#8217;ll get those links fixed in the next upgrade.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="3-swap-an-include-for-a-link"><a class="anchor" href="#3-swap-an-include-for-a-link"></a>3. Swap an include for a link</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I would like to be able to tell you that include files now work, but that news will have to wait for another day once we&#8217;ve alleviated the security concerns.
Until then, we at least have a solution that improves the reading experience.</p>
</div>
<div class="paragraph">
<p>If you use the <code>include</code> directive in your AsciiDoc, Asciidoctor replaces the directive with a link to the target file, making it easy to navigate between files from the GitHub interface. You can see an example in <a href="https://github.com/opendevise/asciidoc-samples/blob/master/runtime.adoc">this sample AsciiDoc file</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="4-compliant-asciidoc-topped-with-syntactic-sugar"><a class="anchor" href="#4-compliant-asciidoc-topped-with-syntactic-sugar"></a>4. Compliant AsciiDoc topped with syntactic sugar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The upgrade to Asciidoctor 0.1.4 brings all sorts of improvements to the AsciiDoc syntax.
AsciiDoc documents are now parsed as accurately, if not more so, than if AsciiDoc Python were used.
That means that AsciiDoc on GitHub is the <em>real deal</em> for the first time since AsciiDoc Python was put out to pasture.</p>
</div>
<div class="sect2">
<h3 id="improved-compliance"><a class="anchor" href="#improved-compliance"></a>Improved compliance</h3>
<div class="paragraph">
<p>Here are a couple of areas of the syntax that now get parsed correctly:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>attribute entries take effect at the location they are found in the document</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">:speaker: John
:subject: Sarah

``Hi {subject}!'', shouted {speaker}.

:speaker: Sarah
:subject: John

``Hey there, {subject}!'', replied {speaker}.</pre>
</div>
</div>
</li>
<li>
<p>attribute entries inside verbatim content are now properly ignored</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">[literal]
:name: not an attribute entry</pre>
</div>
</div>
</li>
<li>
<p>explicit substitutions can be applied to any block using the subs attribute</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">[source,xml,subs="attributes,verbatim"]
--
&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
    &lt;version&gt;{spring-version}&lt;/version&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
--</pre>
</div>
</div>
</li>
<li>
<p>an alternate context may be assigned to block-level content using the first positional attribute, as permitted by the AsciiDoc syntax</p>
<div class="paragraph">
<p>For example, an open block can masquerade as a source block, as shown here:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">[source,ruby]
--
puts 'Hello, GitHub!'
--</pre>
</div>
</div>
</li>
<li>
<p>lists are parsed more accurately, especially those containing complex content</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sugar-on-top"><a class="anchor" href="#sugar-on-top"></a>Sugar on top</h3>
<div class="paragraph">
<p>On top of this compliant behavior is a sweet layer of Asciidoctor goodness.
Such enhancements include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>shorthand id, role and options syntax for blocks</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">[sidebar#audience.text-justify]
--
This content appears in a sidebar with id "audience" and justified text.
--</pre>
</div>
</div>
</li>
<li>
<p>parsing of select Markdown content, including headings and quote blocks</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">## Asciidoctor speaks Markdown

&gt; Did you here that Asciidoctor understands how to parse basic Markdown?

You bet I did!</pre>
</div>
</div>
</li>
<li>
<p>implicit table header row and implicit content delimiter</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">,===
Project, Language

Asciidoctor, Ruby
AsciidoctorJ, Java
,===</pre>
</div>
</div>
</li>
<li>
<p>no dropped lines for missing attributes</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">Although {foobar} cannot be resolved, this line is rendered as is.</pre>
</div>
</div>
</li>
<li>
<p>multiple authors in the document header, separated by semi-colons</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">= Document Title
First Author; Second Author; Third Author</pre>
</div>
</div>
</li>
<li>
<p>you can drop the quotes around values in block attributes if the value does not contain a comma or space</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">[cols=3,width=50%]</pre>
</div>
</div>
</li>
<li>
<p>custom macros, including <code>menu</code>, <code>btn</code>, <code>kbd</code> and <code>icon</code></p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">:experimental:

Open a new tab by pressing kbd:[Ctrl+T] or selecting menu:File[New].</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>We could go on, but I&#8217;ll stop there and let you explore the many additional layers of sweetness that Asciidoctor adds.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Although the AsciiDoc syntax is correctly parsed and rendered, the output doesn&#8217;t always look as you might expect.
The challenge we face is that the HTML output from Asciidoctor often relies on the stylesheet to complete the UI pattern being represented.
However, those styles are not present on GitHub.</p>
</div>
<div class="paragraph">
<p>What makes things even more difficult is that the content is passed through an HTML sanitizer that strips away most of the HTML attributes, so even if we could map to existing CSS classes in the GitHub, we can&#8217;t because the class attribute gets stripped.
In a future upgrade, we&#8217;ll work on finding a way to make these UI patterns work, such as admonition blocks.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="5-table-of-contents"><a class="anchor" href="#5-table-of-contents"></a>5. Table of contents</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Last, but not least, you can now include a table of contents in the output to help navigate those larger documents.</p>
</div>
<div class="paragraph">
<p>The first thing you need to do to enable the table of contents on GitHub is set the <code>toc</code> attribute in the document header.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">= Document Title
<strong>:toc:</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Next, you need to set the <code>toc-placement</code> attribute to <code>preamble</code> or unset the attribute.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">= Document Title
:toc:
<strong>:toc-placement: preamble</strong></pre>
</div>
</div>
<div class="paragraph">
<p>If you choose <code>preamble</code>, the table of contents will be rendered under the preamble but before the first section.
If you unset the attribute instead, you will need to place the table of contents in the document manually using the <code>toc::[]</code> block macro.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">= Document Title
:toc:
<strong>:toc-placement!:</strong>

<strong>toc::[]</strong></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of how it renders:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/toc-sample-github.png" alt="toc sample github">
</div>
<div class="title">Figure 2. Table of contents rendered on GitHub</div>
</div>
<div class="paragraph">
<p>You&#8217;ll notice that superfluous bullets appear in the table of contents.
This behavior can be explained by the fact that the necessary styles are missing, as described at the end of the last section.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="long-live-asciidoc-on-github"><a class="anchor" href="#long-live-asciidoc-on-github"></a>Long live AsciiDoc on GitHub!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The recent Asciidoctor upgrade on GitHub certainly brought with it a lot of improvements.
You can see more examples showcasing what&#8217;s available in the <a href="https://github.com/opendevise/asciidoc-samples">asciidoc-samples</a> repository.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you already have AsciiDoc content on GitHub and you aren&#8217;t seeing the new features, you probably need to make a modification to the file to boot the rendered file from the cache and force GitHub to regenerate it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If something still doesn&#8217;t render to your satisfaction, you have one more “escape route” option.
There are three implicit attributes you can consult to conditionally include or exclude content shown in the table below.
The first two are only assigned in the GitHub environment.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute name</th>
<th class="tableblock halign-left valign-top">Attribute value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">env</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">github</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">env-github</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>empty string</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asciidoctor-version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1.4</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you want to render different content when on GitHub, simply use the <code>ifdef</code> and <code>ifndef</code> preprocessor directives:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">ifdef::env-github[]
I'm on GitHub!
endif::[]
ifndef::env-github[]
I'm clearly somewhere else right now.
endif::[]</pre>
</div>
</div>
<div class="paragraph">
<p>If you only want to render content when the version of Asciidoctor is upgraded, then use the <code>ifeval</code> preprocessor directive:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">ifeval::["{asciidoctor-version}" &gt; "0.1.4"]
Asciidoctor has been upgraded again!
GitHub is now running Asciidoctor {asciidoctor-version}.
endif::[]</pre>
</div>
</div>
<div class="paragraph">
<p>That wraps up our brief overview of the new AsciiDoc experience on GitHub.
AsciiDoc on GitHub is no second class citizen to Markdown anymore.
It&#8217;s the real deal, syntax highlighting and all.</p>
</div>
<div class="paragraph">
<p>I&#8217;d like to thank everyone who helped make this upgrade happen, including <a href="https://github.com/erebor">Ryan Waldron</a>, <a href="https://github.com/matthewmccullough">Matthew McCullough</a>, <a href="https://github.com/tlberglund">Tim Berglund</a>, <a href="https://github.com/gjtorikian">Garen Torikian</a>, GitHub Security and the man who <span class="icon"><i class="fa fa-truck"></i></span> it, <a href="https://github.com/bkeepers">Brandon Keepers</a>. Of course, I&#8217;d also like to thank everyone in the Asciidoctor community who advocates for AsciiDoc and helps make Asciidoctor awesome.</p>
</div>
<div class="paragraph">
<p>Happy documenting!</p>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a> I&#8217;m a little footnote, short and stout.
</div>
</div></div><footer class="entry-footer"><div class="tags"><i class="label fa fa-tags"></i><a href="/news/tag/github/">github</a></div></footer><hr></article><article class="post"><header class="entry-header"><h1 class="title"><a href="/news/2013/09/18/introducing-asciidoctor-js-live-preview/">Introducing Asciidoctor.js live preview in your browser</a></h1><h4><em>by</em> <span class="author">Guillaume Grossetie</span> - <time class="pubdate" datetime="2013-09-18T02:19:35-06:00">Wednesday, September 18, 2013</time></h4></header><div class="entry-content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;d like to introduce you to the easiest way to render any AsciiDoc file, local or remote, as HTML directly in your browser!</p>
</div>
<div class="paragraph">
<p>All you need to do is install the <a href="https://chrome.google.com/webstore/detail/asciidoctorjs-live-previe/iaalpfgpbocpdfblpnhhgllgbdbchmia">Chrome extension</a> or the <a href="https://addons.mozilla.org/fr/firefox/addon/asciidoctorjs-live-preview/">Firefox add-on</a>.
Then you can preview any AsciiDoc file as HTML just by visiting it!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-it-works"><a class="anchor" href="#how-it-works"></a>How it works</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Chrome extension and the Firefox add-on use <a href="https://github.com/asciidoctor/asciidoctor.js">Asciidoctor.js</a> to render AsciiDoc as HTML inside your browser.
Both provide a toggle button to switch between HTML output and AsciiDoc source.</p>
</div>
<div class="paragraph">
<p>Here you can see a local AsciiDoc file rendered inside of Chrome.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/chrome-extension-enabled.png" alt="chrome extension enabled">
</div>
<div class="title">Chrome extension in action</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can view any AsciiDoc file on GitHub through the lens of Asciidoctor.js with this extension!
Simply navigate to the file in the GitHub web interface (try <a href="https://github.com/asciidoctor/asciidoctor.org/blob/master/news/introducing-asciidoctor-js-live-preview.adoc">this blog post</a>) and click the <b class="button">Raw</b> button that appears above the file preview.
Looks much better, doesn&#8217;t it?
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="future"><a class="anchor" href="#future"></a>Future</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently, we are using <a href="https://github.com/asciidoctor/asciidoctor.js">Asciidoctor.js</a> based on <a href="https://github.com/asciidoctor/asciidoctor">Asciidoctor</a> 0.1.2.
We planned to cross-compile the newly-released <a href="https://github.com/asciidoctor/asciidoctor">Asciidoctor</a> 0.1.4 to Javascript, to support the latest and greatest features!</p>
</div>
<div class="paragraph">
<p>We are also working on adding some cool new features :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>browser-based editor using <a href="http://markitup.jaysalvat.com/">MarkItUp!</a></p>
</li>
<li>
<p>live reload to automatically refresh on local file changes</p>
</li>
<li>
<p>and many more&#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributing"><a class="anchor" href="#contributing"></a>Contributing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We&#8217;re always open for patches, better documentation, feature requests, evangelizing or any help you&#8217;re able to provide.</p>
</div>
</div>
</div></div><footer class="entry-footer"><div class="tags"><i class="label fa fa-tags"></i><a href="/news/tag/announcement/">announcement</a>, <a href="/news/tag/javascript/">javascript</a>, <a href="/news/tag/extension/">extension</a></div></footer><hr></article><article class="post"><header class="entry-header"><h1 class="title"><a href="/news/2013/09/05/asciidoctor-0-1-4-released/">Asciidoctor 0.1.4 released!</a></h1><h4><em>by</em> <span class="author">Dan Allen</span> and <span class="author">Sarah White</span> - <time class="pubdate" datetime="2013-09-05T16:59:27-06:00">Thursday, September 5, 2013</time></h4></header><div class="entry-content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>We&#8217;re thrilled (and a bit relieved) to announce the release of <a href="http://rubygems.org/gems/asciidoctor">Asciidoctor 0.1.4</a>!</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">What is Asciidoctor?</div>
<div class="paragraph">
<p>Asciidoctor is a fast, open source text processor and publishing toolchain for transforming AsciiDoc markup into HTML 5, DocBook 5.0, DocBook 4.5 and custom output formats.
Asciidoctor is written in Ruby, packaged as a RubyGem and published to <a href="http://rubygems.org/gems/asciidoctor">RubyGems.org</a>.
The Asciidoctor processor is also accessible to any JVM language or build system via the <a href="/docs/install-and-use-asciidoctor-java-integration">Java integration library</a>.</p>
</div>
<div class="paragraph">
<p>Follow the instructions on the <a href="/docs/install-toolchain/#installing-the-asciidoctor-rubygem">Installing or Updating Asciidoctor</a> page to get started.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a-release-marked-by-milestones"><a class="anchor" href="#a-release-marked-by-milestones"></a>A release marked by milestones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Asciidoctor 0.1.4 was originally planned to be a small release.
Instead, it turned out to be a summer-long project, spanning from Memorial Day to Labor Day, which concluded in the biggest release to date.
<strong>Ninety issues</strong>&#8201;&#8212;&#8201;that&#8217;s right, <em>90</em>&#8201;&#8212;&#8201;were closed along the way, resulting in <strong>325 commits</strong>.</p>
</div>
<div class="paragraph">
<p>The extended development cycle was due in part to a major pickup in the amount of feedback from users.
We also didn&#8217;t want to let another release slip by without including an extension mechanism, which we&#8217;re happy to say is available in this release as a technology preview.</p>
</div>
<div class="paragraph">
<p>This also turned out to be a development cycle full of milestones.
At the time of the last release, we announced that Asciidoctor had reached 20,000 downloads in total.
Asciidoctor 0.1.3 alone topped that number at 27,000 and the number of downloads in total broke the 50,000 mark!
But that&#8217;s just the start.</p>
</div>
<div class="paragraph">
<p>Here are some of the additional milestones we surpassed:</p>
</div>
<div class="ulist checklist green">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> <strong>&gt; 1,000 commits (1,158 in total)</strong></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong>&gt; 1,000 tests (1245 in total)</strong></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong>&gt; 500 closed issues (523 in total)</strong></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong>&gt; 100 mailing list topics (117 in total)</strong></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <strong>&gt; 1 year of development (initial commit Jun 1, 2012)</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once again, the valuable feedback we&#8217;ve received from Asciidoctor&#8217;s <a href="#acknowledgments">awesome community</a> has helped push Asciidoctor&#8217;s compliance with the AsciiDoc syntax <em>beyond</em> the Python implementation.
Asciidoctor has also achieved another <strong>15% increase in speed</strong> over the previous release.
Just to give you an idea of how fast the processor is, the 16,000-line <a href="http://enterprisewebbook.com" target="_blank">Enterprise Web Development: From Desktop to Mobile</a> book, published by O&#8217;Reilly, renders to HTML in <em>0.85 seconds</em> on an Ultrabook.</p>
</div>
<div class="paragraph">
<p>Asciidoctor is now in use by major open source projects, most notably Groovy, Spring XD, Spring Security, OpenShift Origin, Neo4j, CRaSH, RichFaces and Granite DS, among others.
We&#8217;ve also kicked off our own documentation effort in Asciidoctor, admist all the development.
Sarah started a documentation strategy (i.e., information architecture) for the project and composed an initial draft of the <a href="http://asciidoctor.org/docs/user-manual">Asciidoctor user manual</a>.
For the first time, we also have a proper Changelog associated with <a href="https://github.com/asciidoctor/asciidoctor/releases">each tag on GitHub</a> and aggregated in the <a href="https://raw.githubusercontent.com/asciidoctor/asciidoctor/master/CHANGELOG.adoc">CHANGELOG.adoc</a> file at the repository root.</p>
</div>
<div class="paragraph">
<p>As you can see, things are really on <span class="icon red"><i class="fa fa-fire"></i></span> around here.</p>
</div>
<div class="paragraph">
<p>On that note, let&#8217;s get to what&#8217;s in this new release!
(Jump to <a href="#tl-dr">TL;DR</a> to get the abbreviated version.)</p>
</div>
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#a-release-marked-by-milestones">A release marked by milestones</a></li>
<li><a href="#headliners">Headliners</a></li>
<li><a href="#classy-code-listings">Classy code listings</a></li>
<li><a href="#mark-your-lists">Mark your lists</a></li>
<li><a href="#more-time-savers">More time savers</a></li>
<li><a href="#formatting-galore">Formatting galore</a></li>
<li><a href="#content-more-or-less">Content, more or less</a></li>
<li><a href="#backend-boost">Backend boost</a></li>
<li><a href="#extensions">Extensions!</a></li>
<li><a href="#asciidoc-compatibility-file-updates">AsciiDoc compatibility file updates</a></li>
<li><a href="#acknowledgments">Acknowledgments</a></li>
<li><a href="#what-s-next">What&#8217;s next?</a></li>
<li><a href="#tl-dr">Appendix A: TL;DR</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="headliners"><a class="anchor" href="#headliners"></a>Headliners</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="awesome-icons-everywhere"><a class="anchor" href="#awesome-icons-everywhere"></a>Awesome icons everywhere!</h3>
<div class="paragraph">
<p>Asciidoctor 0.1.4 introduces an inline macro for inserting an icon at an arbitrary place in paragraph content.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example that inserts a tags icon in front of a list of tag names:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">icon:tags[] ruby, asciidoctor</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s how this example renders:</p>
</div>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-tags"></i></span> ruby, asciidoctor</p>
</div>
<div class="paragraph">
<p>You can even give the icon color by assigning it a role:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">icon:tags[role=blue] ruby, asciidoctor</code></pre>
</div>
</div>
<div class="paragraph">
<p>which appears as:</p>
</div>
<div class="paragraph">
<p><span class="icon blue"><i class="fa fa-tags"></i></span> ruby, asciidoctor</p>
</div>
<div class="paragraph">
<p>The icon macro recognizes a few attributes that can be used to modify the size, orientation and function of the icon.
Here&#8217;s a large, blue Twitter logo that&#8217;s had too much to drink, but still manages to link to the Twitter homepage:</p>
</div>
<div class="paragraph">
<p><span class="icon"><a class="image" href="http://twitter.com"><i class="fa fa-twitter fa-4x fa-flip-vertical"></i></a></span></p>
</div>
<div class="paragraph">
<p>created from:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">icon:twitter[4x, flip=vertical, link=http://twitter.com]</code></pre>
</div>
</div>
<div class="paragraph">
<p>At the moment, the name of the icon is resolved from the <a href="http://fortawesome.github.io/Font-Awesome">Font Awesome</a> icon set.
You can see the possible icon name options on the <a href="http://fortawesome.github.io/Font-Awesome/icons">icons page</a>.
Support for other icon sets is being discussed in issue <a href="https://github.com/asciidoctor/asciidoctor/issues/539">#539</a>.</p>
</div>
<div class="paragraph">
<p>If you aren&#8217;t using the font-based icons, Asciidoctor looks for the images on disk in the <code>iconsdir</code> directory.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/529">#529</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Asciidoctor now uses Font Awesome 3.2.1 (loaded from cdnjs.com) (<a href="https://github.com/asciidoctor/asciidoctor/issues/451/">#451</a>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="inter-document-references"><a class="anchor" href="#inter-document-references"></a>Inter-document references</h3>
<div class="paragraph">
<p>In AsciiDoc, the xref inline macro is used to create a cross-reference (i.e., link) from one section to another.
Asciidoctor 0.1.4 extends this functionality by allowing a link to be made to a section in another AsciiDoc document.
This eliminates the need to use direct links between documents (e.g., HTML links) that couple the document to a single backend.
The cross-reference also captures the intent to establish a reference between related documents.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s how an xref is normally defined in AsciiDoc:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">Refer to &lt;&lt;section-b&gt;&gt; for more information.</code></pre>
</div>
</div>
<div class="paragraph">
<p>This xref creates a link to a section with the id <em>section-b</em>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume the xref is defined in the document <em class="file">document-a.adoc</em>.
If the target section is in a separate document, <em class="file">document-b.adoc</em>, the author may be tempted to write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">Refer to link:document-b.html#section-b[Section B] for more information.</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, this link is coupled to HTML output.
What&#8217;s worse, if <em class="file">document-b.adoc</em> is included in the same master as <em class="file">document-a.adoc</em>, then the link will refer to a document that doesn&#8217;t even exist!</p>
</div>
<div class="paragraph">
<p>These problems can be alleviated by using an inter-document xref:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">Refer to &lt;&lt;document-b.adoc#section-b,Section B&gt;&gt; for more information.

See you when you get back from &lt;&lt;document-b#section-b,Section B&gt;&gt;!</code></pre>
</div>
</div>
<div class="paragraph">
<p>The id of the target is now placed behind a hash symbol (<code>#</code>).
Preceding the hash is the name of the reference document (the file extension is optional).
We also assigned a label to the reference since Asciidoctor cannot (yet) resolve the section title in a separate document.</p>
</div>
<div class="paragraph">
<p>When Asciidoctor generates the link for this xref, it first checks to see if <em class="file">document-b.adoc</em> is included in the same master as <em class="file">document-a.doc</em>.
If not, it will generate a link to <em class="file">document-b.html</em>, intelligently substituting the original file extension with the file extension of the output file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="html"><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">document-b.html#section-b</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Section B<span class="tag">&lt;/a&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If <em class="file">document-b.adoc</em> is included in the same master as <em class="file">document-a.doc</em>, then the document will be dropped in the link target and look like the output of a normal xref:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="html"><span class="tag">&lt;a</span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#section-b</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Section B<span class="tag">&lt;/a&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can create inter-document references without the headache.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/417">#417</a>.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="no-more-dropped-lines"><a class="anchor" href="#no-more-dropped-lines"></a>No more dropped lines!</h3>
<div class="paragraph">
<p>By default, the original AsciiDoc processor drops the entire line if it contains a reference to a missing attribute (e.g., <code>{bogus}</code>).
This "feature" was added to the Python implementation for use in creating custom backends, which are written using the AsciiDoc syntax.</p>
</div>
<div class="paragraph">
<p>This behavior is not needed in Asciidoctor since its templates are composed in a dedicated template language (e.g., ERB, Haml, Slim, etc).
But the main issue with this behavior is that it&#8217;s frustrating to the author, editor or reader.
To them, it&#8217;s not immediately apparent when a line goes missing.
Discovering its absence often requires a full (and tedious) read-through of the document or section.</p>
</div>
<div class="paragraph">
<p>Asciidoctor 0.1.4 introduces two attributes to alleviate this inconvenience: <code>attribute-missing</code> and <code>attribute-undefined</code>.</p>
</div>
<div class="sect3">
<h4 id="attribute-missing"><a class="anchor" href="#attribute-missing"></a>attribute-missing</h4>
<div class="paragraph">
<p>The attribute <code>attribute-missing</code> controls how missing references are handled.
By default, missing references are left intact so it&#8217;s clear to the author when one hasn&#8217;t been satisfied since, likely, the intent is for it to be replaced.</p>
</div>
<div class="paragraph">
<p>This attribute has three possible values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>skip</code></dt>
<dd>
<p>leave the reference in place (default setting)</p>
</dd>
<dt class="hdlist1"><code>drop</code></dt>
<dd>
<p>drop the reference, but not the line</p>
</dd>
<dt class="hdlist1"><code>drop-line</code></dt>
<dd>
<p>drop the line on which the reference occurs (compliant behavior)</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Consider the following line of AsciiDoc:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">Hello, {name}!</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s how the line is handled in each case, assuming the <code>name</code> attribute is not defined:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>skip</code>
</td>
<td class="hdlist2">
<p>Hello, {name}!</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>drop</code>
</td>
<td class="hdlist2">
<p>Hello, !</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>drop-line</code>
</td>
<td class="hdlist2">
<p></p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="attribute-undefined"><a class="anchor" href="#attribute-undefined"></a>attribute-undefined</h4>
<div class="paragraph">
<p>The attribute <code>attribute-undefined</code> controls how expressions that undefine an attribute are handled (e.g., <code>{set:name!}</code>).
By default, the line is dropped since the expression is a statement, not content.
It&#8217;s reasonable to stick with the compliant behavior in this case since such an expression is not intended to produce content.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We recommend putting any statement that undefines an attribute on a line by itself.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/523">#523</a>.</em></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="youtube-and-vimeo-videos"><a class="anchor" href="#youtube-and-vimeo-videos"></a>YouTube and Vimeo videos</h3>
<div class="paragraph">
<p>The <code>video::[]</code> macro now supports videos from external video hosting services like YouTube and Vimeo.
To use this feature, put the video ID in the macro target and the name of the hosting service in the first positional attribute.
Asciidoctor will put the two together and generate the correct embed code to insert the video in the HTML output.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example that embeds a YouTube video:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">video::rPQoq7ThGAU[youtube, 640, 360]</code></pre>
</div>
</div>
<div class="paragraph">
<p>and one that embeds a Vimeo video:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">video::67480300[vimeo, 400, 300]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can control the video settings using additional attributes and options on the macro.
For instance, you can offset the start time of playback using the <code>start</code> attribute and enable autoplay using the <code>autoplay</code> option.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">video::rPQoq7ThGAU[youtube, 640, 360, start=60, options=autoplay]</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/587">#587</a>.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="docbook-5-0-backend"><a class="anchor" href="#docbook-5-0-backend"></a>DocBook 5.0 backend</h3>
<div class="paragraph">
<p>In addition to DocBook 4.5, Asciidoctor 0.1.4 can produce DocBook 5.0 output, which is handled by the <code>docbook5</code> backend.</p>
</div>
<div class="paragraph">
<p>The output from the <code>docbook5</code> backend only differs marginally from the <code>docbook45</code>, just enough to make it compliant with the DocBook 5.0 specification.
A summary of the differences are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>XSD declarations are used on the document root instead of a DTD</p>
</li>
<li>
<p><code>&lt;info&gt;</code> elements for document info instead of <code>&lt;articleinfo&gt;</code> and <code>&lt;bookinfo&gt;</code></p>
</li>
<li>
<p>elements that hold the author&#8217;s name are wrapped in a <code>&lt;personname&gt;</code> element</p>
</li>
<li>
<p>the id for an element is defined using an <code>xml:id</code> attribute</p>
</li>
<li>
<p><code>&lt;link&gt;</code> is used for links instead of <code>&lt;ulink&gt;</code></p>
</li>
<li>
<p>the URL for a link is defined using the <code>xlink:href</code> attribute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Refer to <a href="http://www.docbook.org/tdg5/en/html/ch01.html#introduction-whats-new">What&#8217;s new in DocBook v5.0?</a> for more details about how DocBook 5.0 differs from DocBook 4.5.</p>
</div>
<div class="paragraph">
<p>To use the DocBook 5.0 backend, set the backend to <code>docbook5</code>, as shown in this example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor -b docbook5 sample.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s a sample DocBook 5.0 document generated by this backend:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;article</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://docbook.org/ns/docbook</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">xmlns:xlink</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/1999/xlink</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">5.0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xml:lang</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;info&gt;</span>
    <span class="tag">&lt;title&gt;</span>Hello, AsciiDoc!<span class="tag">&lt;/title&gt;</span>
    <span class="tag">&lt;date&gt;</span>2013-09-03<span class="tag">&lt;/date&gt;</span>
    <span class="tag">&lt;author&gt;</span>
      <span class="tag">&lt;personname&gt;</span>
        <span class="tag">&lt;firstname&gt;</span>Doc<span class="tag">&lt;/firstname&gt;</span>
        <span class="tag">&lt;surname&gt;</span>Writer<span class="tag">&lt;/surname&gt;</span>
      <span class="tag">&lt;/personname&gt;</span>
      <span class="tag">&lt;email&gt;</span>doc@example.com<span class="tag">&lt;/email&gt;</span>
    <span class="tag">&lt;/author&gt;</span>
    <span class="tag">&lt;authorinitials&gt;</span>DW<span class="tag">&lt;/authorinitials&gt;</span>
  <span class="tag">&lt;/info&gt;</span>
  <span class="tag">&lt;simpara&gt;</span>
    An introduction to <span class="tag">&lt;link</span> <span class="attribute-name">xlink:href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://asciidoc.org</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>AsciiDoc<span class="tag">&lt;/link&gt;</span>.
  <span class="tag">&lt;/simpara&gt;</span>
  <span class="tag">&lt;section</span> <span class="attribute-name">xml:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">_first_section</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;title&gt;</span>First Section<span class="tag">&lt;/title&gt;</span>
    <span class="tag">&lt;itemizedlist&gt;</span>
      <span class="tag">&lt;listitem&gt;</span>
        <span class="tag">&lt;simpara&gt;</span>item 1<span class="tag">&lt;/simpara&gt;</span>
      <span class="tag">&lt;/listitem&gt;</span>
      <span class="tag">&lt;listitem&gt;</span>
        <span class="tag">&lt;simpara&gt;</span>item 2<span class="tag">&lt;/simpara&gt;</span>
      <span class="tag">&lt;/listitem&gt;</span>
    <span class="tag">&lt;/itemizedlist&gt;</span>
  <span class="tag">&lt;/section&gt;</span>
<span class="tag">&lt;/article&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/411">#411</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The <code>xmlns</code> attribute is now added to the root DocBook element by default.
Set the attribute <code>noxmlns</code> to disable this feature.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="debian-and-ubuntu-package"><a class="anchor" href="#debian-and-ubuntu-package"></a>Debian and Ubuntu package</h3>
<div class="paragraph">
<p>Joining the Fedora package, Asciidoctor is now packaged for Debian and Ubuntu thanks to <a href="https://github.com/avtobiff">Per Andersson</a>!
'nuff said!</p>
</div>
<div class="paragraph">
<p>You can install Asciidoctor on Debian or Ubuntu using:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ sudo apt-get install asciidoctor</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently, packages are only available for Asciidoctor 0.1.3.
Updated packages for Asciidoctor 0.1.4 should become available within a few weeks following this release.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/216">#216</a>.</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="classy-code-listings"><a class="anchor" href="#classy-code-listings"></a>Classy code listings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We know code is important to you.
It&#8217;s important to us too.
That&#8217;s why we made some sweet refinements to code listings in this release.</p>
</div>
<div class="sect2">
<h3 id="callouts-don-t-get-caught-in-copy"><a class="anchor" href="#callouts-don-t-get-caught-in-copy"></a>Callouts don&#8217;t get caught in copy</h3>
<div class="paragraph">
<p>Previously, when a reader selected and copied source code containing callouts from an HTML page generated by Asciidoctor, the callout numbers would get caught up in the copy.
Those extra characters can cause compile or runtime errors at the spot where the reader pastes the code.
Readers shouldn&#8217;t be surprised in this way or have to understand why extra characters end up in the clipboard.
<strong>Copy and paste should just work.</strong></p>
</div>
<div class="paragraph">
<p>In this release, we used some CSS ninja moves to prevent the callouts from getting caught up in the copy.
No matter how hard the reader tries, those callouts just won&#8217;t get selected.
(The same is true for line numbers as well).</p>
</div>
<div class="paragraph">
<p>On the other side of the coin, you don&#8217;t want the callout annotations to mess up your code either.
We can&#8217;t play fancy CSS games in raw source code, but we can leverage line comments!
You can now tuck your callouts neatly behind line comments.
Asciidoctor will recognize the line comment characters in front of a callout number&#8212;&#8203;optionally offset by a space&#8212;&#8203;and remove them when rendering the document.</p>
</div>
<div class="paragraph">
<p>Here are the line comments that are supported:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">----
line of code  // &lt;1&gt;
line of code   # &lt;2&gt;
line of code  ;; &lt;3&gt;
----
&lt;1&gt; A callout behind a line comment for JavaScript, Java, and C-style languages.
&lt;2&gt; A callout behind a line comment for Ruby, Python, Perl, etc.
&lt;3&gt; A callout behind a line comment for Clojure and Lisp-style languages.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s how the commented callouts look when rendered:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">line of code  <i class="conum" data-value="1"></i><b>(1)</b>
line of code  <i class="conum" data-value="2"></i><b>(2)</b>
line of code  <i class="conum" data-value="3"></i><b>(3)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A callout behind a line comment for JavaScript, Java, and C-style languages.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A callout behind a line comment for Ruby, Python, Perl, etc.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A callout behind a line comment for Clojure and Lisp-style languages.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Notice the line comment characters are gone!
Now select the lines.
As you can see, the callouts are left behind.</p>
</div>
<div class="paragraph">
<p>We want callouts to be an aid, not a pain.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Asciidoctor requires that callouts be placed at the end of the line.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/478">#478</a>.</em></p>
</div>
<div class="paragraph">
<p>Speaking of pain, what about callouts in XML?
Read on to find out.</p>
</div>
</div>
<div class="sect2">
<h3 id="xml-friendly-callouts"><a class="anchor" href="#xml-friendly-callouts"></a>XML-friendly callouts</h3>
<div class="paragraph">
<p>XML doesn&#8217;t have line comments, so our &#8220;tuck the callout behind a line comment&#8221; trick doesn&#8217;t work here.
We played around with the syntax and came up with something we think works and looks pretty clean.
We just stretched out the angled brackets around the callout number and turned it into an XML comment:</p>
</div>
<div class="paragraph">
<p><code>&lt;1&gt;</code> &#8658; <code>&lt;!--1--&gt;</code></p>
</div>
<div class="paragraph">
<p>Here&#8217;s how the XML-friendly callout appears in a listing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[source,xml]
----
&lt;section&gt;
  &lt;title&gt;Section Title&lt;/title&gt;  &lt;!--1--&gt;
&lt;/section&gt;
----
&lt;1&gt; The section title is required.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s how the callout looks when rendered:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="xml"><span class="tag">&lt;section&gt;</span>
  <span class="tag">&lt;title&gt;</span>Section Title<span class="tag">&lt;/title&gt;</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tag">&lt;/section&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The section title is required.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Again, notice the comment is gone and the callout number cannot be selected.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This syntax also works for callouts in HTML listings.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/582">#582</a>.</em></p>
</div>
<div class="paragraph">
<p>A macro definition for XML-friendly callouts is included in the AsciiDoc compatibility file so they can be recognized by the <code>asciidoc</code> command as well.</p>
</div>
<div class="paragraph">
<p>Thanks to these enhancements, both the reader and developer can copy and paste source code containing callouts without having to worry about error-causing hitchhikers.
But, our tricks with callouts aren&#8217;t over quite yet.</p>
</div>
</div>
<div class="sect2">
<h3 id="highlight-free-callouts"><a class="anchor" href="#highlight-free-callouts"></a>Highlight-free callouts</h3>
<div class="paragraph">
<p>We had reports that callouts weren&#8217;t getting replaced in some cases when using the CodeRay source highlighter (e.g., <code>source-highlighter=coderay</code>).</p>
</div>
<div class="paragraph">
<p>It turns out, the problem is that the very presence of callouts in the code, whether behind line comments or not, causes them to get caught in the highlighting and mangled.
The trick here is to pull the callouts out of the source code before highlighting, then restore them afterward.
That way, the source highlighter never sees them, and we can be sure that they end up where they&#8217;re supposed to be, unmangled.</p>
</div>
<div class="paragraph">
<p>There&#8217;s nothing you need to change to take advantage of this improvement.
This feature works when using CodeRay or Pygments (i.e., the "server-side" source highlighters).</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/534">#534</a>.</em></p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Wait, did you say Pygments?</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>That&#8217;s right.
Asciidoctor can use Pygments to highlight source code!</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-highlighting-with-pygments"><a class="anchor" href="#syntax-highlighting-with-pygments"></a>Syntax highlighting with Pygments</h3>
<div class="paragraph">
<p>The most popular source code highlighter in the AsciiDoc world&#8212;&#8203;perhaps the whole world&#8212;&#8203;is <a href="http://pygments.org">Pygments</a>.
Until now, Asciidoctor only integrated with CodeRay for "server-side" source highlighting, mostly because it&#8217;s also written in Ruby.</p>
</div>
<div class="paragraph">
<p>Thanks to the awesome folks at GitHub, Pygments has a nice Ruby wrapper library named <a href="https://github.com/tmm1/pygments.rb">pygments.rb</a> that makes integrating with it a cinch.</p>
</div>
<div class="paragraph">
<p>In order to use Pygments with Asciidoctor, you need to install Pygments (and Python, if you don&#8217;t have it yet).
Run something like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ "`\which apt-get || \which yum || \which brew`" install python-pygments</pre>
</div>
</div>
<div class="paragraph">
<p>You then need to install the pygments.rb RubyGem.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ gem install pygments.rb</pre>
</div>
</div>
<div class="paragraph">
<p>To activate Pygments in Asciidoctor, assign the value <code>pygments</code> to the <code>source-highlighter</code> attribute in your document&#8217;s header.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">:source-highlighter: pygments</code></pre>
</div>
</div>
<div class="paragraph">
<p>Voila!
Your code now has &#8220;pygments&#8221;.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/538">#538</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The default CodeRay theme has been updated so it matches better with the default Asciidoctor styles.</p>
</li>
<li>
<p>Syntax highlighting is no longer disabled if the <code>subs</code> attribute is used on a source listing (as long as <em>specialcharacters</em> is in the subs list).</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="to-wrap-or-to-scroll-that-is-the-question"><a class="anchor" href="#to-wrap-or-to-scroll-that-is-the-question"></a>To wrap or to scroll, that is the question</h3>
<div class="paragraph">
<p>Previously, the Asciidoctor stylesheet was configured to prevent line wrapping (e.g., <code>white-space: pre-wrap; word-wrap: normal</code>) in listing and literal blocks.
This behavior isn&#8217;t always desirable because it causes the browser window to scroll if the content overflows the width of the page.
For many, this horizontal scrolling is considered a greater readability problem than line wrapping.</p>
</div>
<div class="paragraph">
<p>Since there are two camps on how to handle overflow text, neither choice would please both audiences.
For that reason, we&#8217;ve made this behavior configurable in Asciidoctor 0.1.4.</p>
</div>
<div class="paragraph">
<p>The default Asciidoctor stylesheet now wraps long lines in listing and literal blocks by applying the CSS <code>white-space: pre-wrap</code> and <code>word-wrap: break-word</code>.
The lines are wrapped at word boundaries, similar to how most text editors wrap lines.</p>
</div>
<div class="paragraph">
<p>There are two ways to prevent lines from wrapping so that horizontal scrolling is used instead:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>set the <code>nowrap</code> option on the block</p>
</li>
<li>
<p>unset the <code>prewrap</code> document attribute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use the <code>nowrap</code> option on literal or listing blocks to prevent lines from being wrapped in the HTML:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ApplicationConfigurationProvider</span> <span class="directive">extends</span> HttpConfigurationProvider
{
   <span class="annotation">@Override</span>
   <span class="directive">public</span> <span class="predefined-type">Configuration</span> getConfiguration(ServletContext context)
   {
      <span class="keyword">return</span> ConfigurationBuilder.begin()
               .addRule()
               .when(Direction.isInbound().and(Path.matches(<span class="string"><span class="delimiter">&quot;</span><span class="content">/{path}</span><span class="delimiter">&quot;</span></span>)))
               .perform(Log.message(<span class="predefined-type">Level</span>.INFO, <span class="string"><span class="delimiter">&quot;</span><span class="content">Client requested path: {path}</span><span class="delimiter">&quot;</span></span>))
               .where(<span class="string"><span class="delimiter">&quot;</span><span class="content">path</span><span class="delimiter">&quot;</span></span>).matches(<span class="string"><span class="delimiter">&quot;</span><span class="content">.*</span><span class="delimiter">&quot;</span></span>);
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the <code>nowrap</code> option is used, the <code>nowrap</code> class is added to the <code>&lt;pre&gt;</code> element.
This style class changes the CSS to <code>white-space: pre</code> and <code>word-wrap: normal</code>.</p>
</div>
<div class="paragraph">
<p>To apply the <code>nowrap</code> option globally, unset the <code>prewrap</code> attribute on the document.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">:prewrap!:</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the <code>prewrap</code> attribute is unset, the <code>nowrap</code> class is added to any <code>&lt;pre&gt;</code> element, even when the <code>nowrap</code> option is absent on the block.</p>
</div>
<div class="paragraph">
<p>Now, you can use the line wrapping strategy that works best for you and your readers.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/303">#303</a>.</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mark-your-lists"><a class="anchor" href="#mark-your-lists"></a>Mark your lists</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lists are everywhere.
Let&#8217;s put them to work.</p>
</div>
<div class="sect2">
<h3 id="getting-things-done-using-checklists"><a class="anchor" href="#getting-things-done-using-checklists"></a>Getting Things Done using checklists</h3>
<div class="paragraph">
<p>List items can now be marked as complete using checklists.
If you use Asciidoctor to track the completion of tasks, get ready to start checking off those tasks!</p>
</div>
<div class="paragraph">
<p>Checklists (i.e., task lists) are unordered lists that have items marked as checked (<code>[*]</code> or <code>[x]</code>) or unchecked (<code>[ ]</code>).
Here&#8217;s an example:</p>
</div>
<div class="listingblock">
<div class="title">Checklist</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">- [*] checked
- [x] also checked
- [ ] not checked
-     normal list item</code></pre>
</div>
</div>
<div class="paragraph">
<p>When checklists are rendered to HTML, the checkbox markup is transformed into an HTML checkbox with the appropriate checked state.
For more details, check out the checklist section in the <a href="http://asciidoctor.org/docs/user-manual">user manual</a>.</p>
</div>
<div class="paragraph">
<p>If you enable font-based icons (i.e., <code>-a icons=font</code>), the checkbox markup is rendered using a font-based icon!
Here&#8217;s how that looks:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> checked</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> also checked</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> not checked</p>
</li>
<li>
<p>normal list item</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Snazzy!</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/200">#200</a>.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="more-bullets-and-numerations-styles-for-lists"><a class="anchor" href="#more-bullets-and-numerations-styles-for-lists"></a>More bullets and numerations styles for lists</h3>
<div class="paragraph">
<p>Asciidoctor 0.1.4 offers additional bullet and numbering styles for lists.
The list marker (bullet or numeration style) is set using the list&#8217;s block style.</p>
</div>
<div class="paragraph">
<p>Asciidoctor now recognizes all the unordered list bullets available in HTML and DocBook.</p>
</div>
<div class="paragraph">
<p>The unordered list marker can be set using any of the following block styles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>square</code></p>
</li>
<li>
<p><code>circle</code></p>
</li>
<li>
<p><code>disc</code></p>
</li>
<li>
<p><code>none</code> or <code>no-bullet</code> (indented, but no bullets)</p>
</li>
<li>
<p><code>unstyled</code> (no indentation or bullets) (HTML only)</p>
</li>
<li>
<p><code>inline</code> (as paragraph, no bullets) (HTML only)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These styles are supported by the default Asciidoctor stylesheet.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When present, the style name is assigned to the unordered list element as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">For HTML</dt>
<dd>
<p>the style name is assigned to the <code>class</code> attribute on the <code>&lt;ul&gt;</code> element.</p>
</dd>
<dt class="hdlist1">For DocBook</dt>
<dd>
<p>the style name is assigned to the <code>mark</code> attribute on the <code>&lt;itemizedlist&gt;</code> element.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Here&#8217;s how you create an unordered list marked with square bullets:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[square]
* one
* two
* three</code></pre>
</div>
</div>
<div class="paragraph">
<p>For ordered lists, Asciidoctor now supports the lowergreek and decimal-leading-zero numeration styles in addition to the existing options.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
These two new styles are only supported in the HTML backend (DocBook doesn&#8217;t recognize these options).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here are a few examples showing various numeration styles as defined by the block style shown in the header row:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">[arabic]&ast;</th>
<th class="tableblock halign-left valign-top">[decimal]</th>
<th class="tableblock halign-left valign-top">[loweralpha]</th>
<th class="tableblock halign-left valign-top">[lowergreek]</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>one</p>
</li>
<li>
<p>two</p>
</li>
<li>
<p>three</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="olist decimal">
<ol class="decimal">
<li>
<p>one</p>
</li>
<li>
<p>two</p>
</li>
<li>
<p>three</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>one</p>
</li>
<li>
<p>two</p>
</li>
<li>
<p>three</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="olist lowergreek">
<ol class="lowergreek">
<li>
<p>one</p>
</li>
<li>
<p>two</p>
</li>
<li>
<p>three</p>
</li>
</ol>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>&ast; Default numeration if block style is not specified</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Custom numeration styles can be implemented using a custom role.
Define a new class selector (e.g., <code>.custom</code>) in your stylesheet that sets the <code>list-style-type</code> property to the value of your choice.
Then, assign the name of that class as a role (e.g., <code>[.custom]</code>) on any list to which you want that numeration applied.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information about bullets and numerations, consult the <a href="http://asciidoctor.org/docs/user-manual">user manual</a>.</p>
</div>
<div class="paragraph">
<p><em>Resolves issues <a href="https://github.com/asciidoctor/asciidoctor/issues/364">#364</a>, <a href="https://github.com/asciidoctor/asciidoctor/issues/472">#472</a> and <a href="https://github.com/asciidoctor/asciidoctor/issues/620">#620</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>When the role shorthand (e.g., <code>[.custom]</code>) is used on an ordered list, the default numeration style is no longer dropped.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="more-time-savers"><a class="anchor" href="#more-time-savers"></a>More time savers</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="implicit-header-row-for-tables"><a class="anchor" href="#implicit-header-row-for-tables"></a>Implicit header row for tables</h3>
<div class="paragraph">
<p>After adding <a href="/news/2013/05/31/asciidoctor-0-1-3-released/#shorthand-notation-for-setting-code-csv-code-and-code-dsv-code-table-formats">shorthand notation</a> in Asciidoctor 0.1.3 for specifying the table format (e.g., <code>,===</code>, <code>;===</code>), it seemed tedious to still have to use a block attribute line to enable the header row (e.g, <code>[options="header"]</code>).</p>
</div>
<div class="paragraph">
<p>It&#8217;s now possible to enable the header row implicitly just by following a few conventions.
Here are the conventions introduced in Asciidoctor 0.1.4 to determine if the first row should be a header row:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The first line of content inside the table block delimiters is not empty.</p>
</li>
<li>
<p>The second line of content inside the table block delimiters is empty.</p>
</li>
<li>
<p>The <code>options</code> attribute has not been specified in the block attributes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If all of these rules hold, the first row of the table is treated as a header row.
Building on existing conventions, if the <code>cols</code> attribute has not been specified, the number of columns in the table is set to the number of columns in the first row (i.e., the header row).</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of a table that has an implicit header row:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">|===
|A |B |C <i class="conum" data-value="1"></i><b>(1)</b>

|A-1
|B-2
|C-3

|A-2| B-2| C-2

|A-3
|B-3
|C-3
|===</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Satisfies the convention for a header row.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here&#8217;s how it looks when rendered:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">A</th>
<th class="tableblock halign-left valign-top">B</th>
<th class="tableblock halign-left valign-top">C</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C-2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C-3</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
You can arrange the cells in the remaining rows however you want.
Note, however, that we&#8217;re considering using a similar convention for enabling the footer in the future.
Thus, if you rely on this convention to enable the header row, it&#8217;s advised that you not put all the cells in the last row on the same line unless you intend on making it the footer row.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/387">#387</a>.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="shorthand-notation-for-block-options"><a class="anchor" href="#shorthand-notation-for-block-options"></a>Shorthand notation for block options</h3>
<div class="paragraph">
<p>In traditional AsciiDoc syntax, block options are specified using the <code>options</code> attribute in the block&#8217;s attribute list.
Asciidoctor 0.1.4 allows options to be specified using a block shorthand notation, in which the option name is prefixed with a percent sign (<code>%</code>).</p>
</div>
<div class="paragraph">
<p>Consider the following table block with three options:</p>
</div>
<div class="listingblock">
<div class="title">Block options using traditional AsciiDoc syntax</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[options=&quot;header,footer,autowidth&quot;]
|===
|Cell A |Cell B
|===</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s how the options are written using the shorthand notation (<code>%</code>):</p>
</div>
<div class="listingblock">
<div class="title">Block options using Asciidoctor shorthand notation</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[%header%footer%autowidth]
|===
|Cell A |Cell B
|===</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s consider the options when combined with other shorthand notations.</p>
</div>
<div class="listingblock">
<div class="title">Traditional AsciiDoc syntax</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[horizontal, role=&quot;properties&quot;, options=&quot;step&quot;]
property 1:: does stuff
property 2:: does different stuff</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Asciidoctor shorthand notation</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[horizontal.properties%step]
property 1:: does stuff
property 2:: does different stuff</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/481">#481</a>.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="shorthand-notation-on-formatted-i-e-quoted-text"><a class="anchor" href="#shorthand-notation-on-formatted-i-e-quoted-text"></a>Shorthand notation on formatted (i.e., quoted) text</h3>
<div class="paragraph">
<p>The shorthand notation introduced on blocks in Asciidoctor 0.1.3 can now be used on inline formatted (i.e., quoted) text as well.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of an inline anchor and formatted text that has two roles:</p>
</div>
<div class="listingblock">
<div class="title">Traditional AsciiDoc syntax</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[[free_the_world]][big goal]_free the world_</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Asciidoctor shorthand notation</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[#free_the_world.big.goal]_free the world_</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Since quoted text doesn&#8217;t have an id, the <code>id</code> attribute is converted to an anchor that precedes the text.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the HTML backend, this syntax becomes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="html"><span class="tag">&lt;a</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">free_the_world</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;em</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">big goal</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>free the world<span class="tag">&lt;/em&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the DocBook backend, it becomes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="xml"><span class="tag">&lt;anchor</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">free_the_world</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xreflabel</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">free the world</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span><span class="tag">&lt;emphasis&gt;</span><span class="tag">&lt;phrase</span>
<span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">big goal</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>free the world<span class="tag">&lt;/phrase&gt;</span><span class="tag">&lt;/emphasis&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/517">#517</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The attribute list preceding formatted text can be escaped using a backslash (e.g., <code>\[role]*bold*</code>).
In this case, the text will still be formatted, but the attribute list will be unescaped and output verbatim. (<a href="https://github.com/asciidoctor/asciidoctor/issues/421">#421</a>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="role-playing-for-text-enclosed-in-backticks"><a class="anchor" href="#role-playing-for-text-enclosed-in-backticks"></a>Role-playing for text enclosed in backticks</h3>
<div class="paragraph">
<p>To align with other formatted (i.e., quoted) text in AsciiDoc, roles can now be assigned to text enclosed in backticks.</p>
</div>
<div class="paragraph">
<p>Given:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[rolename]`escaped monospace text`</code></pre>
</div>
</div>
<div class="paragraph">
<p>the following HTML is produced:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="html"><span class="tag">&lt;code</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rolename</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>escaped monospace text<span class="tag">&lt;/code&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the new shorthand notation in Asciidoctor 0.1.4, an id (i.e., anchor) can also be specified:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[#idname.rolename]`escaped monospace text`</code></pre>
</div>
</div>
<div class="paragraph">
<p>which produces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="html"><span class="tag">&lt;a</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">idname</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/a&gt;</span><span class="tag">&lt;code</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">rolename</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>escaped monospace text<span class="tag">&lt;/code&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Keep in mind that text enclosed in backticks is not subject to other inline substitutions, but rather passed through as is.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/419">#419</a>.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="process-multiple-source-files-from-the-cli"><a class="anchor" href="#process-multiple-source-files-from-the-cli"></a>Process multiple source files from the CLI</h3>
<div class="paragraph">
<p>The Asciidoctor CLI (i.e., the <code>asciidoctor</code> command) is no longer single-minded!
You can pass multiple source files (or a file name pattern) to the Asciidoctor CLI and it will process all the files in turn.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume there are two AsciiDoc files in your directory, <span class="file">a.adoc</span> and <span class="file">b.adoc</span>.
When you enter the following command in your terminal:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor a.adoc b.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>Asciidoctor will process both files, transforming <span class="file">a.adoc</span> to <span class="file">a.html</span> and <span class="file">b.adoc</span> to <span class="file">b.html</span>.</p>
</div>
<div class="paragraph">
<p>To save you some typing, you can use the glob operator (<code>*</code>) to match both files using a single argument:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor *.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>The shell will expand the previous command to the one you typed earlier:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor a.adoc b.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>You can also render all the AsciiDoc files in immediate subfolders using the double glob operator (<code>**</code>) in place of the directory name:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor **/*.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>To match all files in the current directory and immediate subfolders, use both glob patterns:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor *.adoc **/*.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>If the file name argument is quoted, the shell will not expand it:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor '*.adoc'</pre>
</div>
</div>
<div class="paragraph">
<p>This time, the text <code>*.adoc</code> gets passed directly to Asciidoctor instead of being expanded to <span class="file">a.adoc</span> and <span class="file">b.adoc</span>.
In this case, Asciidoctor handles the glob matching internally in the same way the shell does (when the file name is not in quotes)--with one exception.
Asciidoctor can match files in the current directory and subfolders at any depth using a single glob pattern:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor '**/*.adoc'</pre>
</div>
</div>
<div class="paragraph">
<p>Now that&#8217;s saving you some typing!</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/227">#227</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The <code>asciidoctor</code> command writes to the specified output file if the input is stdin. (<a href="https://github.com/asciidoctor/asciidoctor/issues/500">#500</a>)<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the following command writes to <code>output.html</code> instead of to the console:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ echo "content" | asciidoctor -o output.html -</pre>
</div>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="formatting-galore"><a class="anchor" href="#formatting-galore"></a>Formatting galore</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="put-images-in-their-place"><a class="anchor" href="#put-images-in-their-place"></a>Put images in their place</h3>
<div class="paragraph">
<p>Images are a great way to enhance the text, whether it&#8217;s to illustrate an idea, show rather than tell, or just help the reader connect with the text.</p>
</div>
<div class="paragraph">
<p>Out of the box, images and text behave like oil and water.
Images don&#8217;t like to share space with text.
They are kind of "pushy" about it.
That&#8217;s why we tuned the controls in the image macros so you can get the images and the text to flow together.</p>
</div>
<div class="paragraph">
<p>There are two approaches you can take when positioning your images:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Named attributes</p>
</li>
<li>
<p>Roles</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="positioning-attributes"><a class="anchor" href="#positioning-attributes"></a>Positioning attributes</h4>
<div class="paragraph">
<p>Asciidoctor already supports the <code>align</code> attribute on block images to align the image within the block (e.g., left, right or center).
In this release, we added the <code>float</code> named attribute to both the block and inline image macros.
This attribute pulls the image to one side of the page or the other and wraps block or inline content around it, respectively.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of a floating block image.
The paragraphs or other blocks that follow the image will float up into the available space next to the image.
The image will also be positioned horizontally in the center of the image block.</p>
</div>
<div class="listingblock">
<div class="title">A block image pulled to the right and centered within the block</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">image::tiger.png[Tiger,200,200,float=&quot;right&quot;,align=&quot;center&quot;]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of a floating inline image.
The image will float into the upper-right corner of the paragraph text.</p>
</div>
<div class="listingblock">
<div class="title">An inline image pulled to the right of the paragraph text</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">image:linux.png[Linux,150,150,float=&quot;right&quot;]
You can find Linux everywhere these days!</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you use the named attributes, CSS gets added inline (e.g., <code>style="float: left"</code>).
That&#8217;s bad practice because it can make the page harder to style when you want to customize the theme.
It&#8217;s far better to use CSS classes for these sorts of things, which map to roles in AsciiDoc terminology.</p>
</div>
</div>
<div class="sect3">
<h4 id="positioning-roles"><a class="anchor" href="#positioning-roles"></a>Positioning roles</h4>
<div class="paragraph">
<p>Here are the examples from above, now configured to use roles that map to CSS classes in the default Asciidoctor stylesheet:</p>
</div>
<div class="listingblock">
<div class="title">Image macros using positioning roles</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[.right.text-center]
image::tiger.png[Tiger,200,200]

image:linux.png[Linux,150,150,role=&quot;right&quot;]
You can find Linux everywhere these days!</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following table lists all the roles available out of the box for positioning images.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Roles for positioning images</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 16%;">
<col style="width: 16%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-center valign-top" colspan="2">Float</th>
<th class="tableblock halign-center valign-top" colspan="3">Align</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Role</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock">left</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">right</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">text-left</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">text-right</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">text-center</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Block Image</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check-sign"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check-sign"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check-sign"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check-sign"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check-sign"></i></span></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Inline Image</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check-sign"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check-sign"></i></span></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Merely setting the float direction on an image is not sufficient for proper positioning.
That&#8217;s because, by default, no space is left between the image and the text.
To alleviate this problem, we&#8217;ve added sensible margins to images that use either the positioning named attributes or roles.</p>
</div>
<div class="paragraph">
<p>If you want to customize the image styles, perhaps to customize the margins, you can provide your own additions to the stylesheet (either by using your own stylesheet that builds on the default stylesheet or by adding the styles to a docinfo file).</p>
</div>
</div>
<div class="sect3">
<h4 id="framing-images"><a class="anchor" href="#framing-images"></a>Framing images</h4>
<div class="paragraph">
<p>It&#8217;s common to frame the image in a border to further offset it from the text.
You can style any block or inline image to appear as a thumbnail using the <code>thumb</code> role (or <code>th</code> for short), also in the default stylesheet.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>thumb</code> role doesn&#8217;t alter the dimensions of the image.
For that, you need to assign the image a height and width.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here&#8217;s a very common example for adding an image to a blog post.
The image floats to the right and is framed to make it stand out more from the text.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">image:logo.png[role=&quot;related thumb right&quot;] Here's text that will wrap around the image to the left.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice we added the <code>related</code> role to the image.
This role isn&#8217;t technically required, but it gives the image semantic meaning.</p>
</div>
</div>
<div class="sect3">
<h4 id="controlling-the-float"><a class="anchor" href="#controlling-the-float"></a>Controlling the float</h4>
<div class="paragraph">
<p>When you start floating images, you may discover that too much content is floating around the image.
What you need is a way to clear the float.
That is provided using another role, <code>float-group</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume that we&#8217;ve floated two images so that they are positioned next to each other and we want the next paragraph to appear below them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[.left]
.Image A
image::a.png[A,240,180]

[.left]
.Image B
image::b.png[B,240,180,title=&quot;Image B&quot;]

Text below images.</code></pre>
</div>
</div>
<div class="paragraph">
<p>When this example is rendered and viewed a browser, the paragraph text appears to the right of the images.
To fix this behavior, you just need to "group" the images together in a block with self-contained floats.
Here&#8217;s how it&#8217;s done:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[.float-group]
--
[.left]
.Image A
image::a.png[A,240,180]

[.left]
.Image B
image::b.png[B,240,180]
--

Text below images.</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, the text will appear below the images where we want it.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/460">#460</a>.</em></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="image-urls-are-rendered-not-mangled"><a class="anchor" href="#image-urls-are-rendered-not-mangled"></a>Image URLs are rendered, not mangled</h3>
<div class="paragraph">
<p>AsciiDoc couldn&#8217;t decide if it wanted to support remote images (i.e., images with a URL target) or not.
While you&#8217;ve always been able to use a URL for block images, both AsciiDoc and Asciidoctor were ignoring inline images with a URL target.</p>
</div>
<div class="paragraph">
<p>Even the block images would fall apart in AsciiDoc if you defined the <code>imagesdir</code> attribute to set the location of your local images.
AsciiDoc was mangling the image URL in this case by blindly prefixing the URL with this path.
Doh!</p>
</div>
<div class="paragraph">
<p>Things were messy.
They aren&#8217;t anymore.
You can now reference images served from any URL (e.g., your blog, an image hosting service, your docs server, etc.) and never have to worry about downloading the images and putting them somewhere locally.
Asciidoctor gets it right.
We&#8217;ve also updated the AsciiDoc compatibility file so that AsciiDoc gets it right too.</p>
</div>
<div class="paragraph">
<p>Here are a few examples of images that have a URL target:</p>
</div>
<div class="listingblock">
<div class="title">Block image with a URL target</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">imagesdir: ./images

image::http://inkscape.org/doc/examples/tux.svg[Tux,250,350]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Inline image with a URL target</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">imagesdir: ./images

You can find image:http://inkscape.org/doc/examples/tux.svg[Linux,25,35] everywhere these days.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The value of <code>imagesdir</code> is ignored when the image target is a URI.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you want to avoid typing the URL prefix for every image, and all the images are located on the same server, you can use the <code>imagesdir</code> attribute to set the base URL:</p>
</div>
<div class="listingblock">
<div class="title">Using a URL as the base URL for images</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">:imagesdir: http://inkscape.org/doc/examples

image::tux.svg[Tux,250,350]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This time, the <code>imagesdir</code> <em>is</em> used since the image target is not a URL (the <code>imagesdir</code> just happens to be one).</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/470">#470</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Footnotes containing URLs are now parsed correctly and formatted properly when output to HTML. (<a href="https://github.com/asciidoctor/asciidoctor/issues/506">#506</a>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="a-well-behaved-table-of-contents-toc"><a class="anchor" href="#a-well-behaved-table-of-contents-toc"></a>A well-behaved table of contents (TOC)</h3>
<div class="paragraph">
<p>The TOC in the <code>html5</code> backend is now rendered as an unordered list instead of an ordered list.
This change was made since the automatic numbering of an ordered list isn&#8217;t consistent with the numbering strategy in AsciiDoc and therefore is semantically incorrect.
This also eliminates the "double numbering of sections" problem that was occurring when the default stylesheet was absent.
Additionally, the <code>type="none"</code> list attribute work-around can be dropped.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/461">#461</a>.</em></p>
</div>
<div class="paragraph">
<p>Asciidoctor now correctly numbers sections in cases when numbering is disabled for a portion of the document.
Previously, Asciidoctor would increment the section number counter in regions of the document where section numbering was disabled.
This resulted in section numbers being skipped.
Asciidoctor now freezes the counter where numbering is suppressed to prevent gaps in the numbering.</p>
</div>
<div class="paragraph">
<p>Asciidoctor was also preventing section numbering from being turned off if the document started with section numbering on.
Now, if the <code>-a numbered</code> option is passed to Asciidoctor, it will still honor <code>:numbered!:</code> directives in the flow of the document.</p>
</div>
<div class="paragraph">
<p>In short, section numbering now works the way it should.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/341">#341</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>toc</code> and <code>numbered</code> attributes are enabled by default in the DocBook backend. (<a href="https://github.com/asciidoctor/asciidoctor/issues/540">#540</a>)</p>
</li>
<li>
<p>The TOC can be positioned to the right by assigning the value <code>right</code> to the <code>toc-position</code>, <code>toc</code> or <code>toc2</code> attribute. (<a href="https://github.com/asciidoctor/asciidoctor/issues/467">#467</a>, <a href="https://github.com/asciidoctor/asciidoctor/issues/618">#618</a>)</p>
</li>
<li>
<p>The preamble <code>toc</code> has been updated with a panel-like styling in the default Asciidoctor stylesheet (as seen on asciidoctor.org). (<a href="https://github.com/asciidoctor/asciidoctor/issues/507">#507</a>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="markdown-style-horizontal-rules"><a class="anchor" href="#markdown-style-horizontal-rules"></a>Markdown-style horizontal rules</h3>
<div class="paragraph">
<p>Asciidoctor continues to expand support for (reasonable) Markdown syntax by recognizing Markdown horizontal rules.
The motivation here is to ease migration (both of the content and the mind).</p>
</div>
<div class="paragraph">
<p>To avoid conflicts with the syntax of AsciiDoc block delimiters, only 3 repeating characters (<code>-</code> or <code>*</code>) are recognized.
As with Markdown, whitespace between the characters is optional.</p>
</div>
<div class="listingblock">
<div class="title">Recognized Markdown horizontal rule syntax</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">---

- - -

***

* * *</code></pre>
</div>
</div>
<div class="paragraph">
<p>A macro definition for the Markdown horizontal rules is included in the AsciiDoc compatibility file so they can be recognized by the <code>asciidoc</code> command as well.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/455">#455</a>.</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="content-more-or-less"><a class="anchor" href="#content-more-or-less"></a>Content, more or less</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="include-content-from-a-uri"><a class="anchor" href="#include-content-from-a-uri"></a>Include content from a URI</h3>
<div class="paragraph">
<p>The <code>include</code> directive can now include content directly from a URI.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example that demonstrates how to include AsciiDoc content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">:asciidoctor-source: https://raw.githubusercontent.com/asciidoctor/asciidoctor/master

include::{asciidoctor-source}/README.adoc[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s another example showing how to include specific lines of a source file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">:asciidoctor-source: https://raw.githubusercontent.com/asciidoctor/asciidoctor/master

[source,ruby]
----
include::{asciidoctor-source}/lib/asciidoctor/helpers.rb[lines=10..30]
----</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since this is a potentially dangerous feature, it&#8217;s disabled if the safe mode is SECURE or greater.
Assuming the safe mode is less than SECURE, you must also set the <code>allow-uri-read</code> attribute to permit Asciidoctor to read content from a URI.</p>
</div>
<div class="paragraph">
<p>Reading content from a URI is obviously much slower than reading it from a local file.
Asciidoctor provides a way for the content read from a URI to be cached, which is highly recommended.</p>
</div>
<div class="paragraph">
<p>To enable the built-in cache, you must:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>install the open-uri-cached gem</p>
</li>
<li>
<p>set the <code>cache-uri</code> attribute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When these two conditions are satisfied, Asciidoctor will cache content read from a URI according the to <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html">HTTP caching recommendations</a>.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/445">#445</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The <code>include</code> directive now resolves files relative to the current document instead of the root document.
This applies to <code>include</code> directives used inside a file which itself has been included. (<a href="https://github.com/asciidoctor/asciidoctor/issues/572">#572</a>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="custom-content-for-the-document-footer"><a class="anchor" href="#custom-content-for-the-document-footer"></a>Custom content for the document footer</h3>
<div class="paragraph">
<p>AsciiDoc allows you to include custom content in the header of the output document (HTML or DocBook) by supplying docinfo files.
In Asciidoctor 0.1.4, docinfo files can be used to add custom content to the footer as well.</p>
</div>
<div class="paragraph">
<p>Footer docinfo files are differentiated from header docinfo files by adding <code>-footer</code> to the file name.
In the HTML output, the footer content is inserted inside the footer div (i.e., <code>&lt;div id="footer"&gt;</code>).
In the DocBook output, the footer content is inserted immediately before the ending <code>&lt;/article&gt;</code> or <code>&lt;/book&gt;</code> element.</p>
</div>
<div class="paragraph">
<div class="title">docinfo</div>
<p>If you want to add content to the footer of a specific document, put the content in the file <code>&lt;docname&gt;-footer.html</code> (for HTML output) or <code>&lt;docname&gt;-footer.xml</code> (for DocBook output), where <code>&lt;docname&gt;</code> is the name of the document without the AsciiDoc extension.
Then, set the attribute <code>docinfo</code> in the AsciiDoc source document to enable the feature.</p>
</div>
<div class="paragraph">
<div class="title">docinfo1</div>
<p>If you want to add content to the footer of all documents in the same directory, put the content in the file <code>docinfo-footer.html</code> (for HTML output) or <code>docinfo-footer.xml</code> (for DocBook output).
Then, set the attribute <code>docinfo1</code> in the AsciiDoc source document to enable the feature.</p>
</div>
<div class="paragraph">
<div class="title">docinfo2</div>
<p>If you want the document to look for either docinfo file, set the attribute <code>docinfo2</code> in the AsciiDoc source document.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/486">#486</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional enhancements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Attributes are substituted in the content of docinfo files (both header and footer). (<a href="https://github.com/asciidoctor/asciidoctor/issues/403">#403</a>)</p>
</li>
<li>
<p>The "Last updated" line in the footer can be disabled by unassigning the attribute <code>last-update-label</code> (<a href="https://github.com/asciidoctor/asciidoctor/issues/407">#407</a>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="ignore-front-matter-added-for-static-site-generators"><a class="anchor" href="#ignore-front-matter-added-for-static-site-generators"></a>Ignore front matter added for static-site generators</h3>
<div class="paragraph">
<p>Many static site generators (i.e., Jekyll, Middleman, Awestruct) rely on "front matter" added to the top of the document to determine how to render the content.
Front matter typically starts on the first line of a file and is bounded by block delimiters (e.g., <code>---</code>).</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of a document that contains front matter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">--- <i class="conum" data-value="1"></i><b>(1)</b>
layout: default <i class="conum" data-value="2"></i><b>(2)</b>
--- <i class="conum" data-value="1"></i><b>(1)</b>
= Document Title

content</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Front matter delimiters</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Front matter data</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The static site generator removes these lines before passing the document to the Asciidoctor processor to be rendered.
Outside of the generator, however, these extra lines confuse the AsciiDoc processor.</p>
</div>
<div class="paragraph">
<p>If the <code>skip-front-matter</code> attribute is set, Asciidoctor 0.1.4 will recognize the front matter and consume it before parsing the document.
Asciidoctor stores the content it removes in the <code>front-matter</code> attribute to make it available for integrations.
Asciidoctor also removes front matter when reading include files.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Awestruct can get the information it needs directly from AsciiDoc attributes defined in the document header, eliminating the need to worry about front matter at all.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/502">#502</a>.</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="backend-boost"><a class="anchor" href="#backend-boost"></a>Backend boost</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="stylesheets-are-embedded-by-default"><a class="anchor" href="#stylesheets-are-embedded-by-default"></a>Stylesheets are embedded by default</h3>
<div class="paragraph">
<p>In earlier versions of Asciidoctor, we linked to the stylesheet in the HTML output by default rather than embedding it&#8212;&#8203;the reverse of how AsciiDoc works.
The reason we did it this way was to keep the HTML output document lightweight.
What we found is that new users often don&#8217;t discover the default stylesheet and get confused when certain features, which rely on CSS, don&#8217;t work.</p>
</div>
<div class="paragraph">
<p>We&#8217;d rather have Asciidoctor &#8220;just work&#8221; out of the box.
It&#8217;s a better experience for new users and we get to spend less time repeatedly answering the same forum post. <span class="icon"><i class="fa fa-smile"></i></span></p>
</div>
<div class="paragraph">
<p>That&#8217;s why in Asciidoctor 0.1.4 (and going forward), stylesheets are embedded in the HTML output by default (i.e., <code>linkcss</code> is not set).
If no stylesheet is specified, then it&#8217;s the default stylesheet that gets embedded.
New users no longer have to fiddle with the <code>linkcss</code> or <code>copycss</code> attributes.</p>
</div>
<div class="paragraph">
<p>As it turns out, there&#8217;s another benefit to switching this default.
We no longer have to rely on the <code>copycss</code> attribute at all.
Now, if the <code>linkcss</code> attribute is set, stylesheets are copied to the <code>stylesdir</code> (inside the output directory) so the HTML document can find them.
If you&#8217;re using the default stylesheet, you&#8217;ll see <em class="file">asciidoctor.css</em> appear in this directory.
To disable this behavior, just unset the <code>copycss</code> attribute (i.e., <code>copycss!</code>).</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Asciidoctor does not yet copy a user-specified stylesheet when the <code>linkcss</code> stylesheet is set.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/428">#428</a>.</em></p>
</div>
<div class="sect3">
<h4 id="auxiliary-stylesheets"><a class="anchor" href="#auxiliary-stylesheets"></a>Auxiliary stylesheets</h4>
<div class="paragraph">
<p>Asciidoctor will also embed the stylesheet that provides the theme for either the CodeRay or Pygments syntax highlighter by default.</p>
</div>
<div class="paragraph">
<div class="title">For CodeRay</div>
<p>If the <code>source-highlighter</code> attribute is <code>coderay</code> and the <code>coderay-css</code> attribute is <code>class</code>, the CodeRay stylesheet is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>embedded</em> if <code>linkcss</code> is not set (default behavior)</p>
</li>
<li>
<p><em>copied</em> to the file <em class="file">asciidoctor-coderay.css</em> inside the <code>stylesdir</code> folder within the output directory if <code>linkcss</code> is set</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">For Pygments</div>
<p>If the <code>source-highlighter</code> attribute is <code>pygments</code> and the <code>pygments-css</code> attribute is <code>class</code>, the Pygments stylesheet is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>embedded</em> if <code>linkcss</code> is not set (default behavior)</p>
</li>
<li>
<p><em>copied</em> to the file <em class="file">asciidoctor-pygments.css</em> inside the <code>stylesdir</code> folder within the output directory if <code>linkcss</code> is set</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/381">#381</a>.</em></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="multiple-custom-template-directories"><a class="anchor" href="#multiple-custom-template-directories"></a>Multiple custom template directories</h3>
<div class="paragraph">
<p>Custom templates can now be stored in multiple directories.
That means you can build on an existing backend by copying just the templates you want to modify.
Then, simply pass both the directory holding the original templates and the directory containing your customized templates when you invoke Asciidoctor.</p>
</div>
<div class="paragraph">
<p>In the CLI, multiple template directories are specified by using the <code>-T</code> option multiple times.</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ asciidoctor -T /path/to/original/templates -T /path/to/modified/templates sample.adoc</pre>
</div>
</div>
<div class="paragraph">
<p>In the API, multiple template directories are specified by passing an array to the <code>template_dirs</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="constant">Asciidoctor</span>.render_file <span class="string"><span class="delimiter">'</span><span class="content">sample.adoc</span><span class="delimiter">'</span></span>, <span class="symbol">:safe</span> =&gt; <span class="symbol">:safe</span>, <span class="symbol">:in_place</span> =&gt; <span class="predefined-constant">true</span>,
    <span class="symbol">:template_dirs</span> =&gt; [<span class="string"><span class="delimiter">'</span><span class="content">/path/to/original/templates</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">/path/to/modified/templates</span><span class="delimiter">'</span></span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hack away!</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/437">#437</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>The template engine option in the API (i.e., <code>:template_engine</code>) is now mapped as the <code>--template-engine</code> (long) or <code>-E</code> (short) option in the CLI.
This option is used for resolving the location of backend templates relative to path specified using the <code>--template-dir</code> (long) or <code>-T</code> (short) option. (<a href="https://github.com/asciidoctor/asciidoctor/issues/406">#406</a>)</p>
</li>
<li>
<p>Backend templates are now cached so that they are not reloaded each time Asciidoctor is invoked in the same Ruby process.
By default, Asciidoctor uses an internal cache, though a custom cache can be passed to the API using the option <code>:template_cache</code>. (<a href="https://github.com/asciidoctor/asciidoctor/issues/438">#438</a>)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="man-pages-in-asciidoc"><a class="anchor" href="#man-pages-in-asciidoc"></a>Man pages in AsciiDoc</h3>
<div class="paragraph">
<p>One of the most interesting uses of AsciiDoc is for creating man pages (short for manual pages) for Unix and Unix-like operating systems.
A man page conforms to a special document structure.
That structure is recognized by AsciiDoc, and now Asciidoctor, when the <code>doctype</code> attribute is set to <code>manpage</code>.</p>
</div>
<div class="paragraph">
<p>When reading an AsciiDoc document using the <code>manpage</code> doctype, Asciidoctor parses the following man page metadata:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>mantitle</p>
</li>
<li>
<p>manvolnum</p>
</li>
<li>
<p>manname</p>
</li>
<li>
<p>manpurpose</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>mantitle</code> and <code>manvolum</code> are captured from the document title.
The <code>manname</code> and <code>manpurpose</code> are taken from the first section of the document, which must be a level 1 section and have content in the format <code>&lt;manname&gt; - &lt;manpurpose&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of a man page written in AsciiDoc:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">= asciidoctor(1)
:doctype: manpage

== NAME
asciidoctor - converts AsciiDoc source files...

== SYNOPSIS
*asciidoctor* ['OPTION']... 'FILE'...</code></pre>
</div>
</div>
<div class="paragraph">
<p>From this document, Asciidoctor extracts the following man page-related attributes:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
mantitle
</td>
<td class="hdlist2">
<p>asciidoctor</p>
</td>
</tr>
<tr>
<td class="hdlist1">
manvolnum
</td>
<td class="hdlist2">
<p>1</p>
</td>
</tr>
<tr>
<td class="hdlist1">
manname
</td>
<td class="hdlist2">
<p>asciidoctor</p>
</td>
</tr>
<tr>
<td class="hdlist1">
manpurpose
</td>
<td class="hdlist2">
<p>converts AsciiDoc source files&#8230;&#8203;</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Refer to <a href="https://raw.githubusercontent.com/asciidoctor/asciidoctor/master/man/asciidoctor.adoc">the AsciiDoc source of the Asciidoctor man page</a> to see a complete example.
The man pages for git are also produced from AsciiDoc documents, so you can use those as another example to follow.</p>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/488">#488</a>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Additional improvements</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Asciidoctor produces the same output as AsciiDoc when rendering a man page to HTML using the <code>html5</code> backend. (<a href="https://github.com/asciidoctor/asciidoctor/issues/489">#489</a>)</p>
</li>
<li>
<p>The <a href="https://github.com/asciidoctor/asciidoctor-backends">Asciidoctor Backends repository</a> hosts an early draft of a <a href="https://github.com/asciidoctor/asciidoctor-backends/tree/master/erb/manpage">manpage backend</a>, which is now used to generate the man page for Asciidoctor.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extensions"><a class="anchor" href="#extensions"></a>Extensions!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ever since I started working on Asciidoctor, I&#8217;ve been eagerly awaiting the chance to work on the extensions API.
<em>That time has come.</em>
I&#8217;m excited to say that extensions are available as a technology preview in Asciidoctor 0.1.4.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Technology Preview</div>
<div class="paragraph">
<p>The extension API should be considered <strong>experimental</strong> and <strong>subject to change</strong>.
This technology preview is intended for developers interested in playing around with it and helping to mature the design.</p>
</div>
<div class="paragraph">
<p>If you need the capabilities that extensions provide now, don&#8217;t be afraid to jump on board.
Just keep in mind that you may need to rework parts of your extensions when you upgrade Asciidoctor.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h3>
<div class="paragraph">
<p>The reason I&#8217;ve been looking forward to bringing extensions to Asciidoctor is because they&#8217;ve already proven to be central to the success of AsciiDoc and the Python implementation.
Despite the success they&#8217;ve enjoyed, there&#8217;s still <em>plenty</em> of room for improvement.</p>
</div>
<div class="paragraph">
<p>Extensions in AsciiDoc (technically called filters) have a number of problems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>they are challenging to write because they work at such a low-level (read as: nasty regular expressions)</p>
</li>
<li>
<p>they are fragile since they rely on system commands to do anything significant</p>
</li>
<li>
<p>they are hard to distribute due to the lack of integration with a formal distribution system</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The goal for Asciidoctor has always been to allow extensions to be written using the full power of a programming language (whether it be Ruby, Java, Groovy or JavaScript), similar to what we&#8217;ve done with the backend (rendering) mechanism.
That way, you don&#8217;t have to shave yaks to get the functionality you want, and you can distribute the extension using defacto-standard packaging mechanisms (like RubyGems or JARs).</p>
</div>
</div>
<div class="sect2">
<h3 id="extension-points"><a class="anchor" href="#extension-points"></a>Extension points</h3>
<div class="paragraph">
<p>Here are the extension points that are available in Asciidoctor 0.1.4.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Preprocessor</dt>
<dd>
<p>Processes the raw source lines before they are passed to the parser.</p>
</dd>
<dt class="hdlist1">Treeprocessor</dt>
<dd>
<p>Processes the <span class="class">Asciidoctor::Document</span> (AST) once parsing is complete.</p>
</dd>
<dt class="hdlist1">Postprocessor</dt>
<dd>
<p>Processes the output after the document has been rendered, but before it&#8217;s written to disk.</p>
</dd>
<dt class="hdlist1">Block processor</dt>
<dd>
<p>Processes a block of content marked with a custom block style (i.e., <code>[custom]</code>). (similar to an AsciiDoc filter)</p>
</dd>
<dt class="hdlist1">Block macro processor</dt>
<dd>
<p>Registers a custom block macro and processes it (e.g., <code>gist::12345[]</code>).</p>
</dd>
<dt class="hdlist1">Inline macro processor</dt>
<dd>
<p>Registers a custom inline macro and processes it (e.g., <code>btn:[Save]</code>).</p>
</dd>
<dt class="hdlist1">Include processor</dt>
<dd>
<p>Processes the <code>include::&lt;filename&gt;[]</code> directive.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>These extensions are registered per document using a callback that feels sort of like a DSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>.register <span class="keyword">do</span> |document|
  preprocessor <span class="constant">FrontMatterPreprocessor</span>
  treeprocessor <span class="constant">TerminalCommandTreeprocessor</span>
  postprocessor <span class="constant">CustomFooterPostprocessor</span>
  block <span class="symbol">:yell</span>, <span class="constant">YellBlock</span>
  block_macro <span class="symbol">:gist</span>, <span class="constant">GistMacro</span> <span class="keyword">if</span> document.basebackend? <span class="string"><span class="delimiter">'</span><span class="content">html</span><span class="delimiter">'</span></span>
  inline_macro <span class="symbol">:man</span>, <span class="constant">ManpageMacro</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can register more than one processor of each type, though you can only have one processor per custom block or macro.
Each registered class is instantiated when the <span class="class">Asciidoctor::Document</span> is created.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There is currently no extension point for processing a built-in block, such as a normal paragraph.
Look for that feature in a future Asciidoctor release.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For now, you need to use the Asciidoctor API (not the CLI) in order to register the extensions and invoke Asciidoctor.
Eventually, we&#8217;ll be able to load extensions packaged in a RubyGem (Ruby) or JAR (Java) by scanning
the LOAD_PATH (Ruby) or classpath (Java), respectively.
We may also ship some built-in extensions that can be enabled using an attribute named <code>extensions</code>, similar to how Markdown processors work.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For those of you on the JVM, yes, you can write extensions in Java.
We&#8217;ve prototyped it and it works.
We&#8217;re still sorting out a few technical challenges and documentation to make it completely smooth, but we&#8217;ll get there.
For details, follow the discussion in issue <a href="https://github.com/asciidoctor/asciidoctor/issues/97">#97</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>Resolves issues <a href="https://github.com/asciidoctor/asciidoctor/issues/97">#97</a> and <a href="https://github.com/asciidoctor/asciidoctor/issues/100">#100</a>.</em></p>
</div>
<div class="paragraph">
<p>I&#8217;d like to recognize the authors of the libraries I used as inspiration for Asciidoctor&#8217;s extension API, most notably Middleman, Python Markdown and Kramdown.</p>
</div>
</div>
<div class="sect2">
<h3 id="example-extensions"><a class="anchor" href="#example-extensions"></a>Example extensions</h3>
<div class="paragraph">
<p>Below are several examples of extensions and how they are registered.</p>
</div>
<div class="sect3">
<h4 id="preprocessor-example"><a class="anchor" href="#preprocessor-example"></a>Preprocessor example</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Skim off front matter from the top of the document that gets used by site generators like Jekyll and Awestruct.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">sample-with-front-matter.ad</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">---
tags: [announcement, website]
---
= Document Title

content

[subs=&quot;attributes,specialcharacters&quot;]
.Captured front matter
....
---
{front-matter}
---
....</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">FrontMatterPreprocessor</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor/extensions</span><span class="delimiter">'</span></span>

<span class="keyword">class</span> <span class="class">FrontMatterPreprocessor</span> &lt; <span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>::<span class="constant">Preprocessor</span>
  <span class="keyword">def</span> <span class="function">process</span> reader, lines
    <span class="keyword">return</span> reader <span class="keyword">if</span> lines.empty?
    front_matter = []
    <span class="keyword">if</span> lines.first.chomp == <span class="string"><span class="delimiter">'</span><span class="content">---</span><span class="delimiter">'</span></span>
      original_lines = lines.dup
      lines.shift
      <span class="keyword">while</span> !lines.empty? &amp;&amp; lines.first.chomp != <span class="string"><span class="delimiter">'</span><span class="content">---</span><span class="delimiter">'</span></span>
        front_matter &lt;&lt; lines.shift
      <span class="keyword">end</span>

      <span class="keyword">if</span> (first = lines.first).nil? || first.chomp != <span class="string"><span class="delimiter">'</span><span class="content">---</span><span class="delimiter">'</span></span>
        lines = original_lines
      <span class="keyword">else</span>
        lines.shift
        <span class="instance-variable">@document</span>.attributes[<span class="string"><span class="delimiter">'</span><span class="content">front-matter</span><span class="delimiter">'</span></span>] = front_matter.join.chomp
        <span class="comment"># advance the reader by the number of lines taken</span>
        (front_matter.length + <span class="integer">2</span>).times { reader.advance }
      <span class="keyword">end</span>
    <span class="keyword">end</span>
    reader
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>.register <span class="keyword">do</span> |document|
  preprocessor <span class="constant">FrontMatterPreprocessor</span>
<span class="keyword">end</span>

<span class="constant">Asciidoctor</span>.render_file <span class="string"><span class="delimiter">'</span><span class="content">sample-with-front-matter.ad</span><span class="delimiter">'</span></span>, <span class="symbol">:safe</span> =&gt; <span class="symbol">:safe</span>, <span class="symbol">:in_place</span> =&gt; <span class="predefined-constant">true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="treeprocessor-example"><a class="anchor" href="#treeprocessor-example"></a>Treeprocessor example</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Detect literal blocks that contain terminal commands, strip the prompt character and style the command using CSS in such a way that the prompt character cannot be selected (as seen on help.github.com).</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">sample-with-terminal-command.ad</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc"> $ echo &quot;Hello, World!&quot;

 $ gem install asciidoctor</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">TerminalCommandTreeprocessor</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="keyword">class</span> <span class="class">TerminalCommandTreeprocessor</span> &lt; <span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>::<span class="constant">Treeprocessor</span>
  <span class="keyword">def</span> <span class="function">process</span>
    process_blocks <span class="instance-variable">@document</span> <span class="keyword">if</span> <span class="instance-variable">@document</span>.blocks?
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">process_blocks</span> node
    node.blocks.each_with_index <span class="keyword">do</span> |block, i|
      <span class="keyword">if</span> block.context == <span class="symbol">:literal</span> &amp;&amp; block.lines.first.start_with?(<span class="string"><span class="delimiter">'</span><span class="content">$ </span><span class="delimiter">'</span></span>)
        node.blocks[i] = convert_to_terminal_listing block
      <span class="keyword">else</span>
        process_blocks block <span class="keyword">if</span> block.blocks?
      <span class="keyword">end</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">convert_to_terminal_listing</span> block
    attributes = block.attributes
    attributes[<span class="string"><span class="delimiter">'</span><span class="content">role</span><span class="delimiter">'</span></span>] = <span class="string"><span class="delimiter">'</span><span class="content">terminal</span><span class="delimiter">'</span></span>
    lines = block.lines.map <span class="keyword">do</span> |line|
      line = block.sub_specialcharacters line.chomp
      <span class="keyword">if</span> line.start_with? <span class="string"><span class="delimiter">'</span><span class="content">$ </span><span class="delimiter">'</span></span>
        <span class="string"><span class="delimiter">%(</span><span class="content">&lt;span class=&quot;command&quot;&gt;</span><span class="inline"><span class="inline-delimiter">#{</span>line[<span class="integer">2</span>..<span class="integer">-1</span>]<span class="inline-delimiter">}</span></span><span class="content">&lt;/span&gt;</span><span class="delimiter">)</span></span>
      <span class="keyword">else</span>
        line
      <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="constant">Asciidoctor</span>::<span class="constant">Block</span>.new <span class="instance-variable">@document</span>, <span class="symbol">:listing</span>, <span class="symbol">:content_model</span> =&gt; <span class="symbol">:verbatim</span>, <span class="symbol">:subs</span> =&gt; [],
        <span class="symbol">:source</span> =&gt; lines * <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, <span class="symbol">:attributes</span> =&gt; attributes
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>.register <span class="keyword">do</span> |document|
  treeprocessor <span class="constant">TerminalCommandTreeprocessor</span>
<span class="keyword">end</span>

<span class="constant">Asciidoctor</span>.render_file <span class="string"><span class="delimiter">'</span><span class="content">sample-with-terminal-command.ad</span><span class="delimiter">'</span></span>, <span class="symbol">:safe</span> =&gt; <span class="symbol">:safe</span>, <span class="symbol">:in_place</span> =&gt; <span class="predefined-constant">true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="postprocessor-example"><a class="anchor" href="#postprocessor-example"></a>Postprocessor example</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Insert custom footer text.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">CustomFooterPostprocessor</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="keyword">class</span> <span class="class">CustomFooterPostprocessor</span> &lt; <span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>::<span class="constant">Postprocessor</span>
  <span class="keyword">def</span> <span class="function">process</span> output
    content = <span class="string"><span class="delimiter">'</span><span class="content">Copyright Acme, Inc.</span><span class="delimiter">'</span></span>
    <span class="keyword">if</span> <span class="instance-variable">@document</span>.basebackend? <span class="string"><span class="delimiter">'</span><span class="content">html</span><span class="delimiter">'</span></span>
      replacement = <span class="string"><span class="delimiter">%(</span><span class="content">&lt;div id=&quot;footer-text&quot;&gt;</span><span class="char">\\</span><span class="content">1&lt;br&gt;</span><span class="char">\n</span><span class="inline"><span class="inline-delimiter">#{</span>content<span class="inline-delimiter">}</span></span><span class="char">\n</span><span class="content">&lt;/div&gt;</span><span class="delimiter">)</span></span>
      output = output.sub(<span class="regexp"><span class="delimiter">/</span><span class="content">&lt;div id=&quot;footer-text&quot;&gt;(.*?)&lt;</span><span class="char">\/</span><span class="content">div&gt;</span><span class="delimiter">/</span><span class="modifier">m</span></span>, replacement)
    <span class="keyword">elsif</span> <span class="instance-variable">@document</span>.basebackend? <span class="string"><span class="delimiter">'</span><span class="content">docbook</span><span class="delimiter">'</span></span>
      replacement = <span class="string"><span class="delimiter">%(</span><span class="content">&lt;simpara&gt;</span><span class="inline"><span class="inline-delimiter">#{</span>content<span class="inline-delimiter">}</span></span><span class="content">&lt;/simpara&gt;</span><span class="char">\n</span><span class="char">\\</span><span class="content">1</span><span class="delimiter">)</span></span>
      output = output.sub(<span class="regexp"><span class="delimiter">/</span><span class="content">(&lt;</span><span class="char">\/</span><span class="content">(?:article|book)&gt;)</span><span class="delimiter">/</span></span>, replacement)
    <span class="keyword">end</span>
    output
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">Asciidoctor::Extensions.register do |document|
  postprocessor CustomFooterPostprocessor
end

Asciidoctor.render_file 'sample.ad', :safe =&gt; :safe, :in_place =&gt; true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="block-processor-example"><a class="anchor" href="#block-processor-example"></a>Block processor example</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Register a custom block style named <code>yell</code> that uppercases all the words and converts periods to exclamation points.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">sample-with-yell-block.ad</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">[yell]
The time is now. Get a move on.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">YellBlock</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor/extensions</span><span class="delimiter">'</span></span>

<span class="keyword">class</span> <span class="class">YellBlock</span> &lt; <span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>::<span class="constant">BlockProcessor</span>
  option <span class="symbol">:contexts</span>, [<span class="symbol">:paragraph</span>]
  option <span class="symbol">:content_model</span>, <span class="symbol">:simple</span>

  <span class="keyword">def</span> <span class="function">process</span> parent, reader, attributes
    lines = reader.lines.map {|line| line.upcase.gsub(<span class="regexp"><span class="delimiter">/</span><span class="char">\.</span><span class="content">( |$)</span><span class="delimiter">/</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">!</span><span class="char">\\</span><span class="content">1</span><span class="delimiter">'</span></span>) }
    <span class="constant">Asciidoctor</span>::<span class="constant">Block</span>.new parent, <span class="symbol">:paragraph</span>, <span class="symbol">:source</span> =&gt; lines, <span class="symbol">:attributes</span> =&gt; attributes
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>.register <span class="keyword">do</span> |document|
  block <span class="symbol">:yell</span>, <span class="constant">YellBlock</span>
<span class="keyword">end</span>

<span class="constant">Asciidoctor</span>.render_file <span class="string"><span class="delimiter">'</span><span class="content">sample-with-yell-block.ad</span><span class="delimiter">'</span></span>, <span class="symbol">:safe</span> =&gt; <span class="symbol">:safe</span>, <span class="symbol">:in_place</span> =&gt; <span class="predefined-constant">true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="block-macro-processor-example"><a class="anchor" href="#block-macro-processor-example"></a>Block macro processor example</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Create a block macro named <code>gist</code> for embedding a gist.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">sample-with-gist-macro.ad</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">.My Gist
gist::123456[]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">GistMacro</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor/extensions</span><span class="delimiter">'</span></span>

<span class="keyword">class</span> <span class="class">GistMacro</span> &lt; <span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>::<span class="constant">BlockMacroProcessor</span>
  <span class="keyword">def</span> <span class="function">process</span> parent, target, attributes
    title = (attributes.has_key? <span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>) ?
        <span class="string"><span class="delimiter">%(</span><span class="char">\n</span><span class="content">&lt;div class=&quot;title&quot;&gt;</span><span class="inline"><span class="inline-delimiter">#{</span>attributes[<span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>]<span class="inline-delimiter">}</span></span><span class="content">&lt;/div&gt;</span><span class="delimiter">)</span></span> : <span class="predefined-constant">nil</span>
    source = <span class="string"><span class="delimiter">%(</span><span class="content">&lt;div class=&quot;gistblock&quot;&gt;</span><span class="inline"><span class="inline-delimiter">#{</span>title<span class="inline-delimiter">}</span></span><span class="content">
&lt;div class=&quot;content&quot;&gt;
&lt;script src=&quot;https://gist.github.com/</span><span class="inline"><span class="inline-delimiter">#{</span>target<span class="inline-delimiter">}</span></span><span class="content">.js&quot;&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;/div&gt;</span><span class="delimiter">)</span></span>
    <span class="constant">Asciidoctor</span>::<span class="constant">Block</span>.new parent, <span class="symbol">:pass</span>, <span class="symbol">:content_model</span> =&gt; <span class="symbol">:raw</span>, <span class="symbol">:source</span> =&gt; source
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>.register <span class="keyword">do</span> |document|
  <span class="keyword">if</span> document.basebackend? <span class="string"><span class="delimiter">'</span><span class="content">html</span><span class="delimiter">'</span></span>
    block_macro <span class="symbol">:gist</span>, <span class="constant">GistMacro</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>

<span class="constant">Asciidoctor</span>.render_file(<span class="string"><span class="delimiter">'</span><span class="content">sample-with-gist.ad</span><span class="delimiter">'</span></span>, <span class="symbol">:safe</span> =&gt; <span class="symbol">:safe</span>, <span class="symbol">:in_place</span> =&gt; <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="inline-macro-processor-example"><a class="anchor" href="#inline-macro-processor-example"></a>Inline macro processor example</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Create an inline macro named <code>man</code> that links to a manpage.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">sample-with-man-link.ad</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">See man:gittutorial[7] to get started.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">ManpageMacro</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor/extensions</span><span class="delimiter">'</span></span>

<span class="keyword">class</span> <span class="class">ManpageMacro</span> &lt; <span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>::<span class="constant">InlineMacroProcessor</span>
  option <span class="symbol">:pos_attrs</span>, [<span class="string"><span class="delimiter">'</span><span class="content">volnum</span><span class="delimiter">'</span></span>]

  <span class="keyword">def</span> <span class="function">process</span> parent, target, attributes
    text = manname = target
    suffix = <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>
    target = <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">#{</span>manname<span class="inline-delimiter">}</span></span><span class="content">.html</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">if</span> (volnum = attributes.fetch(<span class="string"><span class="delimiter">'</span><span class="content">volnum</span><span class="delimiter">'</span></span>, <span class="predefined-constant">nil</span>))
      suffix = <span class="string"><span class="delimiter">&quot;</span><span class="content">(</span><span class="inline"><span class="inline-delimiter">#{</span>volnum<span class="inline-delimiter">}</span></span><span class="content">)</span><span class="delimiter">&quot;</span></span>
    <span class="keyword">end</span>
    <span class="instance-variable">@document</span>.register(<span class="symbol">:links</span>, target)
    <span class="string"><span class="delimiter">%(</span><span class="inline"><span class="inline-delimiter">#{</span><span class="constant">Asciidoctor</span>::<span class="constant">Inline</span>.new(parent, <span class="symbol">:anchor</span>, text, <span class="symbol">:type</span> =&gt; <span class="symbol">:link</span>, <span class="symbol">:target</span> =&gt; target).render<span class="inline-delimiter">}</span></span><span class="inline"><span class="inline-delimiter">#{</span>suffix<span class="inline-delimiter">}</span></span><span class="delimiter">)</span></span>
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>.register <span class="keyword">do</span> |document|
  inline_macro <span class="symbol">:man</span>, <span class="constant">ManpageMacro</span>
<span class="keyword">end</span>

<span class="constant">Asciidoctor</span>.render_file(<span class="string"><span class="delimiter">'</span><span class="content">sample-with-man-link.ad</span><span class="delimiter">'</span></span>, <span class="symbol">:safe</span> =&gt; <span class="symbol">:safe</span>, <span class="symbol">:in_place</span> =&gt; <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="include-processor-example"><a class="anchor" href="#include-processor-example"></a>Include processor example</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Purpose</dt>
<dd>
<p>Include a file from a URI.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">sample-with-uri-include.ad</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="asciidoc">:source-highlighter: coderay

.Gemfile
[source,ruby]
----
include::https://raw.githubusercontent.com/asciidoctor/asciidoctor/master/Gemfile[]
----</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">UriIncludeProcessor</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby">require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">asciidoctor/extensions</span><span class="delimiter">'</span></span>
require <span class="string"><span class="delimiter">'</span><span class="content">uri-open</span><span class="delimiter">'</span></span>

<span class="keyword">class</span> <span class="class">UriIncludeProcessor</span> &lt; <span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>::<span class="constant">IncludeProcessor</span>
  <span class="keyword">def</span> <span class="function">handles?</span> target
    target.start_with?(<span class="string"><span class="delimiter">'</span><span class="content">http://</span><span class="delimiter">'</span></span>) <span class="keyword">or</span> target.start_with?(<span class="string"><span class="delimiter">'</span><span class="content">https://</span><span class="delimiter">'</span></span>)
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="function">process</span> reader, target, attributes
    content = open(target).readlines
    reader.push_include content, target, target, <span class="integer">1</span>, attributes
  <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Usage</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="ruby"><span class="constant">Asciidoctor</span>::<span class="constant">Extensions</span>.register <span class="keyword">do</span> |document|
  include_processor <span class="constant">UriIncludeProcessor</span>
<span class="keyword">end</span>

<span class="constant">Asciidoctor</span>.render_file(<span class="string"><span class="delimiter">'</span><span class="content">sample-with-uri-include.ad</span><span class="delimiter">'</span></span>, <span class="symbol">:safe</span> =&gt; <span class="symbol">:safe</span>, <span class="symbol">:in_place</span> =&gt; <span class="predefined-constant">true</span>)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asciidoc-compatibility-file-updates"><a class="anchor" href="#asciidoc-compatibility-file-updates"></a>AsciiDoc compatibility file updates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following improvements have been made to the AsciiDoc compatibility file, <a href="https://github.com/asciidoctor/asciidoctor/blob/master/compat/asciidoc.conf">compat/asciidoc.conf</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Added level 5 (<code>&lt;h6&gt;</code>) section titles</p>
</li>
<li>
<p>Recognize attributes in link macro when <code>linkattrs</code> is set</p>
</li>
<li>
<p>Removed <code>linkcss</code> attribute</p>
</li>
<li>
<p>Fixed detection of fenced code blocks</p>
</li>
<li>
<p>Recognize XML-style callouts</p>
</li>
<li>
<p>Don&#8217;t prepend <code>imagesdir</code> to image target if it is a URI or absolute path</p>
</li>
<li>
<p>Add <code>float</code> attribute to image inline macro</p>
</li>
<li>
<p>Calculate alt text from image filename in a manner consistent with Asciidoctor</p>
</li>
<li>
<p>Recognize markdown-style horizontal rules</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Resolves issue <a href="https://github.com/asciidoctor/asciidoctor/issues/441">#441</a> and other related issues.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="acknowledgments"><a class="anchor" href="#acknowledgments"></a>Acknowledgments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The best part of Asciidoctor is its community.
We&#8217;d like to thank the following people for contributing to and participating in this release:</p>
</div>
<table class="tableblock frame-none grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="ulist square">
<ul class="square">
<li>
<p><a href="https://github.com/lordofthejars">Alex Soto</a></p>
</li>
<li>
<p><a href="https://github.com/avtobiff">Per Andersson</a></p>
</li>
<li>
<p><a href="https://github.com/costin">Costin Leau</a></p>
</li>
<li>
<p><a href="https://github.com/nawroth">Anders Nawroth</a></p>
</li>
<li>
<p><a href="https://github.com/xcoulon">Xavier Coulon</a></p>
</li>
<li>
<p><a href="https://github.com/lightguard">Jason Porter</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist square">
<ul class="square">
<li>
<p><a href="https://github.com/davidfavor">David Favor</a></p>
</li>
<li>
<p><a href="https://github.com/paulrayner">Paul Rayner</a></p>
</li>
<li>
<p><a href="https://github.com/johncarl81">John Ericksen</a></p>
</li>
<li>
<p><a href="https://github.com/aalmiray">Andres Almiray</a></p>
</li>
<li>
<p><a href="https://github.com/glaforge">Guillaume Laforge</a></p>
</li>
<li>
<p><a href="https://github.com/gAmUssA">Viktor Gamov</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist square">
<ul class="square">
<li>
<p><a href="https://github.com/lincolnthree">Lincoln Baxter III</a></p>
</li>
<li>
<p><a href="https://github.com/matthewadams">Matthew Adams</a></p>
</li>
<li>
<p><a href="https://github.com/ghillert">Gunnar Hillert</a></p>
</li>
<li>
<p><a href="https://github.com/jxxcarlson">James Carlson</a></p>
</li>
<li>
<p><a href="https://github.com/rauschma">Axel Rauschmayer</a></p>
</li>
<li>
<p><a href="https://github.com/mstine">Matt Stine</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We&#8217;d like to give a special shout out to <strong>Alex Soto</strong> and <strong>Xavier Coulon</strong> for making their first code contributions to the main Asciidoctor repository and to <strong>Per Anderssen</strong> for getting Asciidoctor into Debian and Ubuntu!</p>
</div>
<div class="paragraph">
<p>I (Dan) would also like to thank <strong>Sarah White</strong> for her monstrous effort to pull together the documentation and prepare a documentation workflow for the project.</p>
</div>
<div class="paragraph">
<p>Additional thanks to everyone who is using the project and those who have participated in the growing ecosystem of sub-projects.
The mission of Asciidoctor is to help you write, publish and communicate your content successfully, and enjoy doing it!
With your feedback and participation, we can achieve that goal together!
We encourage you to ask questions and discuss any aspects of the project on the mailing list or IRC.</p>
</div>
<div class="paragraph">
<p>If you discover errors or omissions in the source code, documentation, or website content, please don&#8217;t hesitate to submit an issue or open a pull request with a fix.
We&#8217;re always eager to learn about your experiences and how we can help improve them.
Together, we&#8217;re going to make documentation fun, easy, and rewarding!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-s-next"><a class="anchor" href="#what-s-next"></a>What&#8217;s next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release is just the beginning of the release train.
Look for releases of the Java integration, Maven plugin, Gradle plugin and more recent additions, such as the editors.</p>
</div>
<div class="paragraph">
<p>The next release of Asciidoctor will be 1.5.0.
The focus of release will be on improvements to the extension API, additional syntax conveniences and enhancements to the toolchain.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We&#8217;re making a shift in the version number scheme in the next release to make room for point releases and to get out from underneath 1.0.0.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We hope to keep the Asciidoctor 1.5.0 release a bit more manageable and turn around a release in ~2 months.
With your participation and feedback, we can make it happen!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tl-dr"><a class="anchor" href="#tl-dr"></a>Appendix A: TL;DR</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Stylesheets are embedded by default</p>
</li>
<li>
<p>Inter-document cross references (e.g., <code>&lt;&lt;doc-b#section-a,Section A in Document B&gt;&gt;</code>)</p>
</li>
<li>
<p>Implicit header row on tables</p>
</li>
<li>
<p>DocBook 5.0 backend (i.e., <code>docbook5</code>)</p>
</li>
<li>
<p>Icon inline macro (e.g, <code>icon:heart[2x]</code>), designed primarily for using font-based icons</p>
</li>
<li>
<p>Checklists</p>
</li>
<li>
<p>Developer and user-friendly callouts in code listings</p>
</li>
<li>
<p>Pygments syntax highlighter (e.g., <code>source-highlighter=pygments</code>)</p>
</li>
<li>
<p>Shorthand notation for block options (e.g., <code>[%header%footer]</code>)</p>
</li>
<li>
<p>Shorthand notation for id and role on formatted text (e.g., <code>[#id.role]_text_</code>)</p>
</li>
<li>
<p>Roles for text enclosed in backticks (e.g., <code>[role]`text`</code>)</p>
</li>
<li>
<p>Docinfo files for the document footer (e.g., <code>docinfo-footer.(html|xml)</code>)</p>
</li>
<li>
<p>Include file from URL using <code>include::[]</code> directive</p>
</li>
<li>
<p>Include file is resolved relative to current include file</p>
</li>
<li>
<p>Support for YouTube and Vimeo IDs in video macro (e.g., <code>video::12345[youtube,480,360]</code>)</p>
</li>
<li>
<p>Missing attribute references (e.g., <code>{bogus}</code>) do not cause line to be dropped (by default)</p>
</li>
<li>
<p>Parse manpage metadata</p>
</li>
<li>
<p>TOC positioning (e.g., <code>toc-position=right</code>, <code>toc=right</code> or <code>toc2=right</code>)</p>
</li>
<li>
<p>Improved section numbering in document and in TOC</p>
</li>
<li>
<p>First draft of the <a href="http://asciidoctor.org/docs/user-manual">Asciidoctor User Manual</a></p>
</li>
<li>
<p>Debian and Ubuntu packages (joining the Fedora package)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/asciidoctor/asciidoctor/releases/tag/v0.1.4">0.1.4 Changelog</a> for a complete list of changes.</p>
</div>
</div>
</div></div><footer class="entry-footer"><div class="tags"><i class="label fa fa-tags"></i><a href="/news/tag/release/">release</a></div></footer><hr></article><div class="pagination-centered"><ul class="pagination"><li class="arrow"><a href="/news/"><i class="fa fa-fast-backward"></i></a></li><li class="arrow"><a href="/news/"><i class="fa fa-step-backward"></i></a></li><li>2 of 6</li><li class="arrow"><a href="/news/3/"><i class="fa fa-step-forward"></i></a></li><li class="arrow"><a href="/news/6/"><i class="fa fa-fast-forward"></i></a></li></ul></div></div></div></div></div></div></div><footer><div class="row full-width"><div class="large-6 columns"><p>&copy; Asciidoctor Project 2014.<br><span>Composed in AsciiDoc. Styled by Foundation. Baked with Awestruct.</span><br>Content licensed under the CC BY 3.0 License.</p></div><div class="large-6 columns"></div></div></footer><script>document.write('<script src=' + ('__proto__' in {} ? '/javascripts/vendor/zepto' : '/javascripts/vendor/jquery') + '.js><\/script>')</script><script src="/javascripts/foundation/foundation.js"></script><script src="/javascripts/foundation/foundation.topbar.js"></script><script>$(document).foundation();</script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: {   inlineMath: [["\\(", "\\)"]],   displayMath: [["\\[", "\\]"]],   ignoreClass: "nostem|nolatexmath" }, asciimath2jax: {   delimiters: [["\\$", "\\$"]],   ignoreClass: "nostem|noasciimath" }});</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.4.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script><script>(function() { var p1 = document.createElement('script'); p1.async = true; p1.src = 'https://apis.google.com/js/plusone.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(p1, s);})();</script><script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount','UA-38215684-1']);
_gaq.push(['_trackPageview']);
(function() {
 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body></html>